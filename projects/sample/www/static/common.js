!function(){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var i=null;if(document.cookie&&document.cookie!==""){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}}return i}c=c||{},b===null&&(b="",c=$.extend({},c),c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")},function(a,b,c){function l(){f=b[g](function(){d.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,i);(c!==e.w||d!==e.h)&&b.trigger(h,[e.w=c,e.h=d])}),l()},e[j])}"$:nomunge";var d=a([]),e=a.resize=a.extend(a.resize,{}),f,g="setTimeout",h="resize",i=h+"-special-event",j="delay",k="throttleWindow";e[j]=250,e[k]=!0,a.event.special[h]={setup:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.add(b),a.data(this,i,{w:b.width(),h:b.height()}),d.length===1&&l()},teardown:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.not(b),b.removeData(i),d.length||clearTimeout(f)},add:function(b){function f(b,e,f){var g=a(this),h=a.data(this,i);h.w=e!==c?e:g.width(),h.h=f!==c?f:g.height(),d.apply(this,arguments)}if(!e[k]&&this[g])return!1;var d;if(a.isFunction(b))return d=b,f;d=b.handler,b.handler=f}}}(jQuery,this),function(a,b){function m(a,b,c){var d=h[b.type]||{};return a==null?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function n(b){var c=f(),d=c._rgba=[];return b=b.toLowerCase(),l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i)return f=c[j](i),c[g[j].cache]=f[g[j].cache],d=c._rgba=f._rgba,!1}),d.length?(d.join()==="0,0,0,0"&&a.extend(d,k.transparent),c):k[b]}function o(a,b,c){return c=(c+1)%1,c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}var c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)",i.rgba=j.style.backgroundColor.indexOf("rgba")>-1,l(g,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b)return this._rgba=[null,null,null,null],this;if(c.jquery||c.nodeType)c=a(c).css(d),d=b;var i=this,j=a.type(c),o=this._rgba=[];d!==b&&(c=[c,d,e,h],j="array");if(j==="string")return this.parse(n(c)||k._default);if(j==="array")return l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)}),this;if(j==="object")return c instanceof f?l(g,function(a,b){c[b.cache]&&(i[b.cache]=c[b.cache].slice())}):l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if(a==="alpha"||c[a]==null)return;i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,!0)}),i[e]&&a.inArray(null,i[e].slice(0,3))<0&&(i[e][3]=1,d.from&&(i._rgba=d.from(i[e])))}),this},is:function(a){var b=f(a),c=!0,d=this;return l(g,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],l(e.props,function(a,b){if(g[b.idx]!=null)return c=g[b.idx]===f[b.idx],c})),c}),c},_space:function(){var a=[],b=this;return l(g,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();return c=c[e.cache],l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null)return;f===null?k[e]=g:(i.mod&&(g-f>i.mod/2?f+=i.mod:f-g>i.mod/2&&(f-=i.mod)),k[e]=m((g-f)*b+f,d))}),this[d](k)},blend:function(b){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});return c[3]===1&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return a==null&&(a=b>2?1:0),b&&b<3&&(a=Math.round(a*100)+"%"),a});return c[3]===1&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(d*255)),"#"+a.map(c,function(a){return a=(a||0).toString(16),a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;return g===f?k=0:b===f?k=60*(c-d)/h+360:c===f?k=60*(d-b)/h+120:k=60*(b-c)/h+240,h===0?l=0:j>.5?l=h/(2-i):l=h/i,[Math.round(k)%360,l,j,e==null?1:e]},g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d>.5?d+c-d*c:d*(1+c),g=2*d-f;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]},l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){i&&!this[h]&&(this[h]=i(this._rgba));if(c===b)return this[h].slice();var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();return l(g,function(a,b){var c=k[e==="object"?a:b.idx];c==null&&(c=n[b.idx]),n[b.idx]=m(c,b)}),j?(d=f(j(n)),d[h]=n,d):f(n)},l(g,function(b,e){if(f.fn[b])return;f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;return g==="undefined"?j:(g==="function"&&(f=f.call(this,j),g=a.type(f)),f==null&&e.empty?this:(g==="string"&&(k=d.exec(f),k&&(f=j+parseFloat(k[2])*(k[1]==="+"?1:-1))),i[e.idx]=f,this[h](i)))}})}),f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if(d!=="transparent"&&(a.type(d)!=="string"||(e=n(d)))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(j){}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(j){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=f(b.elem,c),b.end=f(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},f.hook(c),a.cssHooks.borderColor={expand:function(a){var b={};return l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(a){var b=function(b,c){var d=a(b,c);return c&&(d=d.add(a(c).filter(b))),d};a.liveSetup=a.fn.liveSetup=function(c,d,e){a.isFunction(c)?(e=d,d=c,c="liveSetup"):c?c="liveSetup."+c.split(" ").join(" liveSetup."):c="liveSetup";if(d&&a.isFunction(d))a(window).on(c,d),(e||e===undefined)&&a(function(){d(null,document,b)});else return c=c.split(" "),this.each(function(){for(var d in c)a(window).trigger(c[d],[this,b])})}}(jQuery),function(a){a.fn.closestDescendant=function(b,c){if(!b||b==="")return a();c=c?!0:!1;var d=a();return this.each(function(){var e=a(this),f=[];f.push(e);while(f.length>0){var g=f.shift(),h=g.children();for(var i=0;i<h.length;++i){var j=a(h[i]);if(j.is(b)){d.push(j[0]);if(!c)return!1}else f.push(j)}}}),d}}(jQuery),jQuery.fn.sortElements=function(){var a=[].sort;return function(b,c){c=c||function(){return this};var d=this.map(function(){var a=c.call(this),b=a.parentNode,d=b.insertBefore(document.createTextNode(""),a.nextSibling);return function(){if(b===this)throw Error("You can't sort elements if any one is a descendant of another.");b.insertBefore(this,d),b.removeChild(d)}});return a.call(this,b).each(function(a){d[a].call(c.call(this))})}}(),+function(a){function c(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f=typeof c=="object"&&c;e||d.data("bs.affix",e=new b(this,f)),typeof c=="string"&&e[c]()})}"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.VERSION="3.1.1",b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0,target:window},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var c=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;typeof f!="object"&&(h=g=f),typeof g=="function"&&(g=f.top(this.$element)),typeof h=="function"&&(h=f.bottom(this.$element));var i=this.unpin==null||d+this.unpin>e.top?h==null||e.top+this.$element.height()<c-h?g==null||d>g?!1:"top":"bottom":!1;if(this.affixed===i)return;this.unpin!=null&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented())return;this.affixed=i,this.unpin=i=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),i=="bottom"&&this.$element.offset({top:c-this.$element.height()-h})};var d=a.fn.affix;a.fn.affix=c,a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),d=b.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),c.call(b,d)})})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed.bs.alert").remove()}var c=a(this),d=c.attr("data-target");d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var e=a(d);b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close.bs.alert"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one(a.support.transition.end,f).emulateTransitionEnd(150):f()};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){b=="loadingText"?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");c.prop("type")=="radio"&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f=typeof c=="object"&&c;e||d.data("bs.button",e=new b(this,f)),c=="toggle"?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(".item"),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(b>this.$items.length-1||b<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(this.sliding)return;return this.slide("next")},b.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});this.$element.trigger(j);if(j.isDefaultPrevented())return;return this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(d.css("transition-duration").slice(0,-1)*1e3)):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),c.data()),g=c.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=c.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(b){if(b&&b.target!=this.$element[0]){this.$element.one(a.support.transition.end,a.proxy(f,this));return}this.$element.removeClass("collapsing").addClass("in")[e](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])},b.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(b){if(b&&b.target!=this.$element[0]){this.$element.one(a.support.transition.end,a.proxy(d,this));return}this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);!e&&f.toggle&&c=="show"&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":c.data(),i=c.attr("data-parent"),j=i&&a(i);if(!g||!g.transitioning)j&&j.find('[data-toggle="collapse"][data-parent="'+i+'"]').not(c).addClass("collapsed"),c[f.hasClass("in")?"addClass":"removeClass"]("collapsed");f.collapse(h)})}(jQuery),+function(a){function e(d){if(d&&d.which===3)return;a(b).remove(),a(c).each(function(){var b=f(a(this)),c={relatedTarget:this};if(!b.hasClass("open"))return;b.trigger(d=a.Event("hide.bs.dropdown",c));if(d.isDefaultPrevented())return;b.removeClass("open").trigger("hidden.bs.dropdown",c)})}function f(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}"use strict";var b=".dropdown-backdrop",c='[data-toggle="dropdown"]',d=function(b){a(b).on("click.bs.dropdown",this.toggle)};d.prototype.toggle=function(b){var c=a(this);if(c.is(".disabled, :disabled"))return;var d=f(c),g=d.hasClass("open");e();if(!g){"ontouchstart"in document.documentElement&&!d.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",e);var h={relatedTarget:this};d.trigger(b=a.Event("show.bs.dropdown",h));if(b.isDefaultPrevented())return;c.trigger("focus"),d.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1},d.prototype.keydown=function(b){if(!/(38|40|27)/.test(b.keyCode))return;var d=a(this);b.preventDefault(),b.stopPropagation();if(d.is(".disabled, :disabled"))return;var e=f(d),g=e.hasClass("open");if(!g||g&&b.keyCode==27)return b.which==27&&e.find(c).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(!i.length)return;var j=i.index(i.filter(":focus"));b.keyCode==38&&j>0&&j--,b.keyCode==40&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),e=c.data("bs.dropdown");e||c.data("bs.dropdown",e=new d(this)),typeof b=="string"&&e[b].call(c)})},a.fn.dropdown.Constructor=d,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",c,d.prototype.toggle).on("keydown.bs.dropdown.data-api",c+', [role="menu"], [role="listbox"]',d.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});b.trigger(f);if(f.isDefaultPrevented())return;var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})},b.prototype.activate=function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g).emulateTransitionEnd(150):g(),e.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(a.style[c]!==undefined)return{end:b[c]};return!1}"use strict",a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(c).is("body")?a(window):a(c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scrollspy",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}"use strict",b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight),c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);if(f&&a<=d[0])return f!=(g=e[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f=typeof c=="object"&&c;e||d.data("bs.scrollspy",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d);if(this.isShown||d.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)})},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]!==a.target&&!this.$element.has(a.target).length&&this.$element.trigger("focus")},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){a.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){if(a.target!==a.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!b)return;e?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this
.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,f).emulateTransitionEnd(150):f()}else b&&b()},b.prototype.checkScrollbar=function(){if(document.body.clientWidth<window.innerWidth)this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar();else return},b.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},b.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),typeof c=="object"&&c);f||e.data("bs.modal",f=new b(this,g)),typeof c=="string"?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.trigger("focus")})})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,easein:null,easeout:null,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:null,delay:{hover:{show:1500,hide:100},focus:{show:500,hide:100,vanish:2500}},html:!1,container:!1,viewport:{selector:"body",padding:0}},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);var e=this.options.trigger.split(" ");for(var f=e.length;f--;){var g=e[f];if(g=="click")this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if(g!="manual"){var h=g=="hover"?"mouseenter":"focusin",i=g=="hover"?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b.type.indexOf("focus")<0?"hover":"focus",d=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type),e=d.options.delay&&d.options.delay[c]&&d.options.delay[c].show,f=d.options.delay&&d.options.delay[c]&&d.options.delay[c].vanish;e===undefined&&(e=d.options.delay&&d.options.delay.show),f===undefined&&(f=d.options.delay&&d.options.delay.vanish),clearTimeout(d.timeout),d.hoverState="in";if(!e)return d.show(f);d.timeout=setTimeout(function(){d.hoverState=="in"&&d.show(f)},e)},b.prototype.leave=function(b){var c=b.type.indexOf("focus")<0?"hover":"focus",d=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type),e=d.options.delay&&d.options.delay[c]&&d.options.delay[c].hide;e===undefined&&(e=d.options.delay&&d.options.delay.hide),clearTimeout(d.timeout),d.hoverState="out";if(!e)return d.hide();d.timeout=setTimeout(function(){d.hoverState=="out"&&d.hide()},e)},b.prototype.show=function(b){var c=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(c);if(c.isDefaultPrevented())return;var d=this,e=this.tip();this.setContent(),this.options.animation&&!this.options.easein&&!this.options.easeout&&e.addClass("fade");var f=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,g=/\s?auto?\s?/i,h=g.test(f);h&&(f=f.replace(g,"")||"top"),e.detach().css({top:0,left:0,display:"block",opacity:0}).addClass(f),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var i=this.getPosition(),j=e[0].offsetWidth,k=e[0].offsetHeight;if(h){var l=f,m=this.$element.parent(),n=this.getPosition(m);f=f=="bottom"&&i.top+i.height+k-n.scroll>n.height?"top":f=="top"&&i.top-n.scroll-k<0?"bottom":f=="right"&&i.right+j>n.width?"left":f=="left"&&i.left-j<n.left?"right":f,e.removeClass(l).addClass(f)}var o=this.getCalculatedOffset(f,i,j,k);this.applyPlacement(o,f),this.hoverState=null;var p=function(){d.$element.trigger("shown.bs."+d.type),b&&setTimeout(function(){d.leave(d)},b)};this.options.easein?e.off(".tooltip").removeClass(this.options.easeout).addClass("animated "+this.options.easein).one("webkitAnimationEnd.tooltip mozAnimationEnd.tooltip MSAnimationEnd.tooltip oanimationend.tooltip animationend.tooltip",p).css("opacity",""):(a.support.transition&&e.hasClass("fade")?e.one(a.support.transition.end,p).emulateTransitionEnd(150):p(),e.css("opacity",""))}},b.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;c=="top"&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j),l=k.top!==undefined;l?b.left+=k.left:b.top+=k.top;var m=l?k.left*2-e+i:k.top*2-f+j,n=l?"left":"top",o=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][o],n)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function e(){b.hoverState!="in"&&c.detach(),b.$element.trigger("hidden.bs."+b.type)}var b=this,c=this.tip(),d=a.Event("hide.bs."+this.type);this.$element.trigger(d);if(d.isDefaultPrevented())return;return c.removeClass("in"),this.options.easeout?c.off(".tooltip").removeClass(this.options.easein).addClass("animated "+this.options.easeout).one("webkitAnimationEnd.tooltip mozAnimationEnd.tooltip MSAnimationEnd.tooltip oanimationend.tooltip animationend.tooltip",e):a.support.transition&&c.hasClass("fade")?c.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d=c.tagName=="BODY";return a.extend({},typeof c.getBoundingClientRect=="function"?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return a=="bottom"?{top:b.top+b.height,left:b.left+b.width/2-c/2}:a=="top"?{top:b.top-d,left:b.left+b.width/2-c/2}:a=="left"?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=c.title==null&&b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f=typeof c=="object"&&c;if(!e&&c=="destroy")return;e||d.data("bs.tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",easein:null,easeout:null,template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();b&&a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?typeof c=="string"?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||(typeof b.content=="function"?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f=typeof c=="object"&&c;if(!e&&c=="destroy")return;e||d.data("bs.popover",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";var b=window.orientation!==undefined,c=navigator.userAgent.toLowerCase().indexOf("android")>-1,d=window.navigator.appName=="Microsoft Internet Explorer",e=function(b,d){if(c)return;this.$element=a(b),this.options=a.extend({},e.DEFAULS,d),this.mask=this.options.mask+"",this.init(),this.listen(),this.checkVal()};e.DEFAULS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},e.prototype.init=function(){var b=this.options.definitions,c=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,a.each(this.mask.split(""),a.proxy(function(a,d){d=="?"?(c--,this.partialPosition=a):b[d]?(this.tests.push(RegExp(b[d])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=a.map(this.mask.split(""),a.proxy(function(a,c){if(a!="?")return b[a]?this.options.placeholder:a},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",a.proxy(function(){return a.map(this.buffer,function(a,b){return this.tests[b]&&a!=this.options.placeholder?a:null}).join("")},this))},e.prototype.listen=function(){if(this.$element.attr("readonly"))return;var b=(d?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",a.proxy(this.unmask,this)).on("focus.bs.inputmask",a.proxy(this.focusEvent,this)).on("blur.bs.inputmask",a.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",a.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",a.proxy(this.keypressEvent,this)).on(b,a.proxy(this.pasteEvent,this))},e.prototype.caret=function(a,b){if(this.$element.length===0)return;if(typeof a=="number")return b=typeof b=="number"?b:a,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}});if(this.$element[0].setSelectionRange)a=this.$element[0].selectionStart,b=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}},e.prototype.seekNext=function(a){var b=this.mask.length;while(++a<=b&&!this.tests[a]);return a},e.prototype.seekPrev=function(a){while(--a>=0&&!this.tests[a]);return a},e.prototype.shiftL=function(a,b){var c=this.mask.length;if(a<0)return;for(var d=a,e=this.seekNext(b);d<c;d++)if(this.tests[d]){if(e<c&&this.tests[d].test(this.buffer[e]))this.buffer[d]=this.buffer[e],this.buffer[e]=this.options.placeholder;else break;e=this.seekNext(e)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,a))},e.prototype.shiftR=function(a){var b=this.mask.length;for(var c=a,d=this.options.placeholder;c<b;c++)if(this.tests[c]){var e=this.seekNext(c),f=this.buffer[c];this.buffer[c]=d;if(e<b&&this.tests[e].test(f))d=f;else break}},e.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},e.prototype.focusEvent=function(){this.focusText=this.$element.val();var a=this.mask.length,b=this.checkVal();this.writeBuffer();var c=this,d=function(){b==a?c.caret(0,b):c.caret(b)};d(),setTimeout(d,50)},e.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},e.prototype.keydownEvent=function(a){var c=a.which;if(c==8||c==46||b&&c==127){var d=this.caret(),e=d.begin,f=d.end;return f-e===0&&(e=c!=46?this.seekPrev(e):f=this.seekNext(e-1),f=c==46?this.seekNext(f):f),this.clearBuffer(e,f),this.shiftL(e,f-1),!1}if(c==27)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},e.prototype.keypressEvent=function(a){var b=this.mask.length,c=a.which,d=this.caret();if(a.ctrlKey||a.altKey||a.metaKey||c<32)return!0;if(c){d.end-d.begin!==0&&(this.clearBuffer(d.begin,d.end),this.shiftL(d.begin,d.end-1));var e=this.seekNext(d.begin-1);if(e<b){var f=String.fromCharCode(c);if(this.tests[e].test(f)){this.shiftR(e),this.buffer[e]=f,this.writeBuffer();var g=this.seekNext(e);this.caret(g)}}return!1}},e.prototype.pasteEvent=function(){var a=this;setTimeout(function(){a.caret(a.checkVal(!0))},0)},e.prototype.clearBuffer=function(a,b){var c=this.mask.length;for(var d=a;d<b&&d<c;d++)this.tests[d]&&(this.buffer[d]=this.options.placeholder)},e.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},e.prototype.checkVal=function(a){var b=this.mask.length,c=this.$element.val(),d=-1;for(var e=0,f=0;e<b;e++)if(this.tests[e]){this.buffer[e]=this.options.placeholder;while(f++<c.length){var g=c.charAt(f-1);if(this.tests[e].test(g)){this.buffer[e]=g,d=e;break}}if(f>c.length)break}else this.buffer[e]==c.charAt(f)&&e!=this.partialPosition&&(f++,d=e);if(!a&&d+1<this.partialPosition)this.$element.val(""),this.clearBuffer(0,b);else if(a||d+1>=this.partialPosition)this.writeBuffer(),a||this.$element.val(this.$element.val().substring(0,d+1));return this.partialPosition?e:this.firstNonMaskPos};var f=a.fn.inputmask;a.fn.inputmask=function(b){return this.each(function(){var c=a(this),d=c.data("inputmask");d||c.data("inputmask",d=new e(this,b))})},a.fn.inputmask.Constructor=e,a.fn.inputmask.noConflict=function(){return a.fn.inputmask=f,this},a(document).on("focus.bs.inputmask.data-api","[data-mask]",function(b){var c=a(this);if(c.data("inputmask"))return;c.inputmask(c.data())})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),a(window).on("resize",a.proxy(this.recalc,this)));if(this.options.autohide&&!this.options.modal){var e=this;a(document).on("click",a.proxy(this.autohide,this)).on("keyup",function(a){a.keyCode==27&&e.autohide.call(e,a)})}this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};b.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0,modal:!1},b.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},b.prototype.calcPlacement=function(){function e(a,b){if(d.css(b)==="auto")return a;if(d.css(a)==="auto")return b;var c=parseInt(d.css(a),10),e=parseInt(d.css(b),10);return c>e?b:a}if(this.options.placement!=="auto"){this.placement=this.options.placement;return}this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var b=a(window).width()/this.$element.width(),c=a(window).height()/this.$element.height(),d=this.$element;this.placement=b<c?e("top","bottom"):e("left","right"),this.$element.css("visibility")==="hidden !important"&&this.$element.removeClass("in").css("visiblity","")},b.prototype.opposite=function(a){switch(a){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},b.prototype.getCanvasElements=function(){var b=this.options.canvas?a(this.options.canvas):this.$element,c=b.find("*").filter(function(){return a(this).css("position")==="fixed"}).not(this.options.exclude);return b.add(c)},b.prototype.slide=function(b,c,d){if(!a.support.transition){var e={};return e[this.placement]="+="+c,b.animate(e,350,d)}var f=this.placement,g=this.opposite(f);b.each(function(){a(this).css(f)!=="auto"&&a(this).css(f,(parseInt(a(this).css(f),10)||0)+c),a(this).css(g)!=="auto"&&a(this).css(g,(parseInt(a(this).css(g),10)||0)-c)}),this.$element.one(a.support.transition.end,d).emulateTransitionEnd(350)},b.prototype.disableScrolling=function(){var b=a("body").width(),c="padding-right";a("body").data("offcanvas-style")===undefined&&a("body").data("offcanvas-style",a("body").attr("style")||""),a("body").css("overflow","hidden");if(a("body").width()>b){var d=parseInt(a("body").css(c),10)+a("body").width()-b;setTimeout(function(){a("body").css(c,d)},1)}a("body").on("touchmove.bs",function(b){a(event.target).closest(".offcanvas").length||b.preventDefault()})},b.prototype.enableScrolling=function(){a("body").off("touchmove.bs")},b.prototype.show=function(){if(this.state)return;var b=a.Event("show.bs.offcanvas");this.$element.trigger(b);if(b.isDefaultPrevented())return;this.state="slide-in",this.calcPlacement();var c=this.getCanvasElements(),d=this.placement,e=this.opposite(d),f=this.offset();c.index(this.$element)!==-1&&(a(this.$element).data("offcanvas-style",a(this.$element).attr("style")||""),this.$element.css(d,-1*f),this.$element.css(d)),c.addClass("canvas-sliding").each(function(){a(this).data("offcanvas-style")===undefined&&a(this).data("offcanvas-style",a(this).attr("style")||""),a(this).css("position")==="static"&&a(this).css("position","relative"),(a(this).css(d)==="auto"||a(this).css(d)==="0px")&&(a(this).css(e)==="auto"||a(this).css(e)==="0px")&&a(this).css(d,0)}),this.options.disableScrolling&&this.disableScrolling(),this.options.modal&&this.toggleBackdrop();var g=function(){if(this.state!="slide-in")return;this.state="slid",c.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas")};setTimeout(a.proxy(function(){this.$element.addClass("in"),this.slide(c,f,a.proxy(g,this))},this),1)},b.prototype.hide=function(b){if(this.state!=="slid")return;var c=a.Event("hide.bs.offcanvas");this.$element.trigger(c);if(c.isDefaultPrevented())return;this.state="slide-out";var d=a(".canvas-slid"),e=this.placement,f=-1*this.offset(),g=function(){if(this.state!="slide-out")return;this.state=null,this.placement=null,this.$element.removeClass("in"),d.removeClass("canvas-sliding"),d.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas")};this.options.disableScrolling&&this.enableScrolling(),this.options.modal&&this.toggleBackdrop(),d.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(a.proxy(function(){this.slide(d,f,a.proxy(g,this))},this),1)},b.prototype.toggle=function(){if(this.state==="slide-in"||this.state==="slide-out")return;this[this.state==="slid"?"hide":"show"]()},b.prototype.toggleBackdrop=function(b){b=b||a.noop;if(this.state=="slide-in"){var c=a.support.transition;this.$backdrop=a('<div class="modal-backdrop fade" />').insertAfter(this.$element),c&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),this.$backdrop.on("click.bs",a.proxy(this.autohide,this)),c?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else if(this.state=="slide-out"&&this.$backdrop){this.$backdrop.removeClass("in"),a("body").off("touchmove.bs");var d=this;a.support.transition?this.$backdrop.one(a.support.transition.end,function(){d.$backdrop.remove(),b(),d.$backdrop=null}).emulateTransitionEnd(150):(this.$backdrop.remove(),this.$backdrop=null,b())}else b&&b()},b.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(a("body"))},b.prototype.recalc=function(){if(this.$calcClone.css("display")==="none"||this.state!=="slid"&&this.state!=="slide-in")return;this.state=null,this.placement=null;var b=this.getCanvasElements();this.$element.removeClass("in"),b.removeClass("canvas-slid"),b.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")})},b.prototype.autohide=function(b){a(b.target).closest(this.$element).length===0&&this.hide()};var c=a.fn.offcanvas;a.fn.offcanvas=function(c){return this.each(function(){var d=a(this),e=d.data("bs.offcanvas"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);e||d.data("bs.offcanvas",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.offcanvas.Constructor=b,a.fn.offcanvas.noConflict=function(){return a.fn.offcanvas=c,this},a(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(b){var c=a(this),d=c.attr("data-target"),e=c.attr("href"),f=a(d),g=f.data("bs.offcanvas"),h=g?"toggle":c.data();b.stopPropagation(),g?g.toggle():(e&&(b.preventDefault(),f.load(e.replace(/.*(?=#[^\s]+$)/,""))),f.offcanvas(h))})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",a.proxy(this.click,this))};b.DEFAULTS={target:"a"},b.prototype.click=function(b){var c=a(b.currentTarget).closest("tr").find(this.options.target)[0];if(a(b.target)[0]===c)return;b.preventDefault();if(c.click)c.click();else if(document.createEvent){var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)}};var c=a.fn.rowlink;a.fn.rowlink=function(c){return this.each(function(){var d=a(this),e=d.data("rowlink");e||d.data("rowlink",e=new b(this,c))})},a.fn.rowlink.Constructor=b,a.fn.rowlink.noConflict=function(){return a.fn.rowlink=c,this},a(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(b){if(a(b.target).closest(".rowlink-skip"))return;var c=a(this);if(c.data("rowlink"))return;c.rowlink(c.data()),a(b.target).trigger("click.bs.rowlink")})}(window.jQuery);var a={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return typeof a=="string"},isNumber:function(a){return typeof a=="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(a){return typeof a=="undefined"},bind:$.proxy,each:function(a,b){function c(a,c){return b(c,a)}$.each(a,c)},map:$.map,filter:$.grep,every:function(a,b){var c=!0;return a?($.each(a,function(d,e){if(!(c=b.call(null,e,d,a)))return!1}),!!c):c},some:function(a,b){var c=!1;return a?($.each(a,function(d,e){if(c=b.call(null,e,d,a))return!1}),!!c):c},mixin:$.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return b+""}return $.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h,i;return h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d,clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,j>0?e||(e=setTimeout(h,j)):(clearTimeout(e),e=null,g=i,f=a.apply(c,d)),f}},noop:function(){}},b="%VERSION%",c=function(a){function b(a){return a.split(/\s+/)}function c(a){return a.split(/\W+/)}function d(a){return function(c){return function(d){return a(d[c])}}}return{nonword:c,whitespace:b,obj:{nonword:d(c),whitespace:d(b)}}}(),d=function(){function b(a){this.maxSize=a||100,this.size=0,this.hash={},this.list=new c}function c(){this.head=this.tail=null}function d(a,b){this.key=a,this.val=b,this.prev=this.next=null}return a.mixin(b.prototype,{set:function(b,c){var e=this.list.tail,f;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key]),(f=this.hash[b])?(f.val=c,this.list.moveToFront(f)):(f=new d(b,c),this.list.add(f),this.hash[b]=f,this.size++)},get:function(b){var c=this.hash[b];if(c)return this.list.moveToFront(c),c.val}}),a.mixin(c.prototype,{add:function(b){this.head&&(b.next=this.head,this.head.prev=b),this.head=b,this.tail=this.tail||b},remove:function(b){b.prev?b.prev.next=b.next:this.head=b.next,b.next?b.next.prev=b.prev:this.tail=b.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),b}(),e=function(){function e(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=RegExp("^"+this.prefix)}function f(){return(new Date).getTime()}function g(b){return JSON.stringify(a.isUndefined(b)?null:b)}function h(a){return JSON.parse(a)}var b,c;try{b=window.localStorage,b.setItem("~~~","!"),b.removeItem("~~~")}catch(d){b=null}return b&&window.JSON?c={_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),h(b.getItem(this._prefix(a)))},set:function(c,d,e){return a.isNumber(e)?b.setItem(this._ttlKey(c),g(f()+e)):b.removeItem(this._ttlKey(c)),b.setItem(this._prefix(c),g(d))},remove:function(a){return b.removeItem(this._ttlKey(a)),b.removeItem(this._prefix(a)),this},clear:function(){var a,c,d=[],e=b.length;for(a=0;a<e;a++)(c=b.key(a)).match(this.keyMatcher)&&d.push(c.replace(this.keyMatcher,""));for(a=d.length;a--;)this.remove(d[a]);return this},isExpired:function(c){var d=h(b.getItem(this._ttlKey(c)));return a.isNumber(d)&&f()>d?!0:!1}}:c={get:a.noop,set:a.noop,remove:a.noop,clear:a.noop,isExpired:a.noop},a.mixin(e.prototype,c),e}(),f=function(){function g(a){a=a||{},this._send=a.transport?h(a.transport):$.ajax,this._get=a.rateLimiter?a.rateLimiter(this._get):this._get}function h(b){return function(d,e){function g(b){a.defer(function(){f.resolve(b)})}function h(b){a.defer(function(){f.reject(b)})}var f=$.Deferred();return b(d,e,g,h),f}}var b=0,c={},e=6,f=new d(10);return g.setMaxPendingRequests=function(b){e=b},g.resetCache=function(){f=new d(10)},a.mixin(g.prototype,{_get:function(a,d,g){function j(b){g&&g(null,b),f.set(a,b)}function k(){g&&g(!0)}function l(){b--,delete c[a],h.onDeckRequestArgs&&(h._get.apply(h,h.onDeckRequestArgs),h.onDeckRequestArgs=null)}var h=this,i;(i=c[a])?i.done(j).fail(k):b<e?(b++,c[a]=this._send(a,d).done(j).fail(k).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(b,c,d){var e;return a.isFunction(c)&&(d=c,c={}),(e=f.get(b))?a.defer(function(){d&&d(null,e)}):this._get(b,c,d),!!e}}),g}(),g=function(){function b(a){a=a||{},(!a.datumTokenizer||!a.queryTokenizer)&&$.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=a.datumTokenizer,this.queryTokenizer=a.queryTokenizer,this.reset()}function c(b){return b=a.filter(b,function(a){return!!a}),b=a.map(b,function(a){return a.toLowerCase()}),b}function d(){return{ids:[],children:{}}}function e(a){var b={},c=[];for(var d=0;d<a.length;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function f(a,b){function f(a,b){return a-b}var c=0,d=0,e=[];a=a.sort(f),b=b.sort(f);while(c<a.length&&d<b.length)a[c]<b[d]?c++:a[c]>b[d]?d++:(e.push(a[c]),c++,d++);return e}return a.mixin(b.prototype,{bootstrap:function(b){this.datums=b.datums,this.trie=b.trie},add:function(b){var e=this;b=a.isArray(b)?b:[b],a.each(b,function(b){var f,g;f=e.datums.push(b)-1,g=c(e.datumTokenizer(b)),a.each(g,function(a){var b,c,g;b=e.trie,c=a.split("");while(g=c.shift())b=b.children[g]||(b.children[g]=d()),b.ids.push(f)})})},get:function(d){var g=this,h,i;return h=c(this.queryTokenizer(d)),a.each(h,function(a){var b,c,d,e;if(i&&i.length===0)return!1;b=g.trie,c=a.split("");while(b&&(d=c.shift()))b=b.children[d];if(b&&c.length===0)e=b.ids.slice(0),i=i?f(i,e):e;else return i=[],!1}),i?a.map(e(i),function(a){return g.datums[a]}):[]},reset:function(){this.datums=[],this.trie=d()},all:function(){return this.datums.slice(0)},serialize:function(){return{datums:this.datums,trie:this.trie}}}),b}(),h=function(){function c(a){return a.local||null}function d(c){var d,e;e={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}};if(d=c.prefetch||null)d=a.isString(d)?{url:d}:d,d=a.mixin(e,d),d.thumbprint=b+d.thumbprint,d.ajax.type=d.ajax.type||"GET",d.ajax.dataType=d.ajax.dataType||"json",!d.url&&$.error("prefetch requires url to be set");return d}function e(b){function e(b){return function(c){return a.debounce(c,b)}}function f(b){return function(c){return a.throttle(c,b)}}var c,d;d={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(c=b.remote||null)c=a.isString(c)?{url:c}:c,c=a.mixin(d,c),c.rateLimiter=/^throttle$/i.test(c.rateLimitBy)?f(c.rateLimitWait):e(c.rateLimitWait),c.ajax.type=c.ajax.type||"GET",c.ajax.dataType=c.ajax.dataType||"json",delete c.rateLimitBy,delete c.rateLimitWait,!c.url&&$.error("remote requires url to be set");return c}return{local:c,prefetch:d,remote:e}}();(function(b){function j(a){(!a||!a.local&&!a.prefetch&&!a.remote)&&$.error("one of local, prefetch, or remote is required"),this.processQuery=a.processQuery,this.limit=a.limit||5,this.sorter=k(a.sorter),this.dupDetector=a.dupDetector||l,this.local=h.local(a),this.prefetch=h.prefetch(a),this.remote=h.remote(a),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new g({datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer}),this.storage=this.cacheKey?new e(this.cacheKey):null}function k(b){function c(a){return a.sort(b)}function d(a){return a}return a.isFunction(b)?c:d}function l(){return!1}var d,i;return d=b.Bloodhound,i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.Bloodhound=j,j.noConflict=function(){return b.Bloodhound=d,j},j.tokenizers=c,a.mixin(j.prototype,{_loadPrefetch:function(b){function f(a){c.clear(),c.add(b.filter?b.filter(a):a),c._saveToStorage(c.index.serialize(),b.thumbprint,b.ttl)}var c=this,d,e;return(d=this._readFromStorage(b.thumbprint
))?(this.index.bootstrap(d),e=$.Deferred().resolve()):e=$.ajax(b.url,b.ajax).done(f),e},_getFromRemote:function(c,d){function h(a,b){a?d([]):d(e.remote.filter?e.remote.filter(b):b)}var e=this,f,g;return c=c||"",a.isFunction(this.processQuery)&&(c=this.processQuery.call(this,c)),g=encodeURIComponent(c),f=this.remote.replace?this.remote.replace(this.remote.url,c):this.remote.url.replace(this.remote.wildcard,g),this.transport.get(f,this.remote.ajax,h)},_saveToStorage:function(b,c,d){this.storage&&(this.storage.set(i.data,b,d),this.storage.set(i.protocol,location.protocol,d),this.storage.set(i.thumbprint,c,d))},_readFromStorage:function(b){var c={},d;return this.storage&&(c.data=this.storage.get(i.data),c.protocol=this.storage.get(i.protocol),c.thumbprint=this.storage.get(i.thumbprint)),d=c.thumbprint!==b||c.protocol!==location.protocol,c.data&&!d?c.data:null},_initialize:function(){function g(){c.add(a.isFunction(d)?d():d)}var c=this,d=this.local,e;return e=this.prefetch?this._loadPrefetch(this.prefetch):$.Deferred().resolve(),d&&e.done(g),this.transport=this.remote?new f(this.remote):null,this.initPromise=e.promise()},initialize:function(b){return!this.initPromise||b?this._initialize():this.initPromise},add:function(b){this.index.add(b)},get:function(c,d){function h(b){var c=f.slice(0);a.each(b,function(b){var d;return d=a.some(c,function(a){return e.dupDetector(b,a)}),!d&&c.push(b),c.length<e.limit}),d&&d(e.sorter(c))}var e=this,f=[],g=!1;c===""?f=this.index.all():f=this.index.get(c),f.length<this.limit&&this.transport&&(g=this._getFromRemote(c,h)),f=this.sorter(f).slice(0,this.limit),g||(f.length>0||!this.transport)&&d&&d(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&f.resetCache()},ttAdapter:function(){return a.bind(this.get,this)}}),j})(this);var i={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},j={wrapper:{position:"relative",display:"inline-block",padding:"0"},hint:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"transparent",border:"none",boxShadow:"none"},input:{width:"100%",height:"100%",position:"relative",verticalAlign:"top",backgroundColor:"transparent",border:"none",boxShadow:"none"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};a.isMsie()&&a.mixin(j.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a.isMsie()&&a.isMsie()<=7&&a.mixin(j.input,{marginTop:"-1px"});var k=function(){function c(a){(!a||!a.el)&&$.error("EventBus initialized without el"),this.$el=$(a.el)}var b="typeahead:";return a.mixin(c.prototype,{trigger:function(a){var c=[].slice.call(arguments,1);this.$el.trigger(b+a,c)}}),c}(),l=function(){function c(b,c,d,e){var f;if(!d)return this;c=c.split(a),d=e?j(d,e):d,this._callbacks=this._callbacks||{};while(f=c.shift())this._callbacks[f]=this._callbacks[f]||{sync:[],async:[]},this._callbacks[f][b].push(d);return this}function d(a,b,d){return c.call(this,"async",a,b,d)}function e(a,b,d){return c.call(this,"sync",a,b,d)}function f(b){var c;if(!this._callbacks)return this;b=b.split(a);while(c=b.shift())delete this._callbacks[c];return this}function g(c){var d,e,f,g,i;if(!this._callbacks)return this;c=c.split(a),f=[].slice.call(arguments,1);while((d=c.shift())&&(e=this._callbacks[d]))g=h(e.sync,this,[d].concat(f)),i=h(e.async,this,[d].concat(f)),g()&&b(i);return this}function h(a,b,c){function d(){var d;for(var e=0;!d&&e<a.length;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function i(){var a;return window.setImmediate?a=function(b){setImmediate(function(){b()})}:a=function(b){setTimeout(function(){b()},0)},a}function j(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var a=/\s+/,b=i();return{onSync:e,onAsync:d,off:f,trigger:g}}(),m=function(b){function e(b,c,d){var e=[];for(var g=0;g<b.length;g++){var h=b[g].split(" ");for(var i=0;i<h.length;i++)h[i].length>0&&e.push(a.escapeRegExChars(h[i]))}var j=e.join("|");if(j){var k=d?"\\b("+j+")\\b":"("+j+")";return k=f(k),c?RegExp(k):RegExp(k,"i")}}function f(a){return $.each(c,function(b,c){var d=RegExp("["+b+"]","gi");a=a.replace(d,c)}),a}var c={"á":"a","é":"e","í":"i","ó":"o","ú":"u"},d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(g){function i(a){var c,d,e=f(a.data);return h&&(c=h.exec(e))&&(wrapperNode=b.createElement(g.tagName),g.className&&(wrapperNode.className=g.className),d=a.splitText(c.index),d.splitText(c[0].length),wrapperNode.appendChild(d.cloneNode(!0)),a.parentNode.replaceChild(wrapperNode,d)),!!c}function j(a,b){var c,d=3;for(var e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:j(c,b)}var h;g=a.mixin({},d,g);if(!g.node||!g.pattern)return;g.pattern=a.isArray(g.pattern)?g.pattern:[g.pattern],h=e(g.pattern,g.caseSensitive,g.wordsOnly),j(g.node,i)}}(window.document),n=function(){function c(c){var e=this,f,g,h,i;c=c||{},c.input||$.error("input is missing"),f=a.bind(this._onBlur,this),g=a.bind(this._onFocus,this),h=a.bind(this._onKeydown,this),i=a.bind(this._onInput,this),this.$hint=$(c.hint),this.$input=$(c.input).on("blur.tt",f).on("focus.tt",g).on("keydown.tt",h),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=a.noop),a.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(c){if(b[c.which||c.keyCode])return;a.defer(a.bind(e._onInput,e,c))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.savedPlaceholder=this.$input.attr("placeholder"),this.$overflowHelper=d(this.$input)}function d(a){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:a.css("font-family"),fontSize:a.css("font-size"),fontStyle:a.css("font-style"),fontVariant:a.css("font-variant"),fontWeight:a.css("font-weight"),wordSpacing:a.css("word-spacing"),letterSpacing:a.css("letter-spacing"),textIndent:a.css("text-indent"),textRendering:a.css("text-rendering"),textTransform:a.css("text-transform")}).insertAfter(a)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var b;return b={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},a.mixin(c.prototype,l,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(c){var d=b[c.which||c.keyCode];this._managePreventDefault(d,c),d&&this._shouldTrigger(d,c)&&this.trigger(d+"Keyed",c)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(b,c){var d,e,g;switch(b){case"tab":e=this.getHint(),g=this.getInputValue(),d=e&&e!==g&&!f(c);break;case"up":case"down":d=!f(c);break;default:d=!1}d&&c.preventDefault()},_shouldTrigger:function(b,c){var d;switch(b){case"tab":d=!f(c);break;default:d=!0}return d},_checkInputValue:function(){var b,c,d;b=this.getInputValue(),c=e(b,this.query),d=c?this.query&&this.query.length!==b.length:!1,c?d&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=b)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(b){this.query=b},getInputValue:function(){return this.$input.val()},setInputValue:function(b,c){this.$input.val(b),c?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(b){this.$hint.val(b)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var b,c,d,e;b=this.getInputValue(),c=this.getHint(),d=b!==c&&c.indexOf(b)===0,e=b!==""&&d&&!this.hasOverflow(),!e&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var b=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=b},isCursorAtEnd:function(){var b,c,d;b=this.$input.val().length;try{c=this.$input[0].selectionStart}catch(e){c=b}return a.isNumber(c)?c===b:document.selection?(d=document.selection.createRange(),d.moveStart("character",-b),b===d.text.length):!0},showPlaceholder:function(){this.$input.attr("placeholder",this.savedPlaceholder)},hidePlaceholder:function(){this.$input.attr("placeholder","")},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),o=function(){function e(b){b=b||{},b.templates=b.templates||{},b.source||$.error("missing source"),b.name&&!h(b.name)&&$.error("invalid dataset name: "+b.name),this.query=null,this.highlight=!!b.highlight,this.showDefault=b.showDefault,this.name=b.name||a.getUniqueId(),this.source=b.source,this.displayFn=f(b.display||b.displayKey),this.templates=g(b.templates,this.displayFn),this.$el=$(i.dataset.replace("%CLASS%",this.name))}function f(b){function c(a){return a[b]}return b=b||"value",a.isFunction(b)?b:c}function g(b,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:b.empty&&a.templatify(b.empty),header:b.header&&a.templatify(b.header),footer:b.footer&&a.templatify(b.footer),suggestion:b.suggestion||d}}function h(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var b="ttDataset",c="ttValue",d="ttDatum";return e.extractDatasetName=function(c){return $(c).data(b)},e.extractValue=function(b){return $(b).data(c)},e.extractDatum=function(b){return $(b).data(d)},a.mixin(e.prototype,l,{_render:function(f,g){function l(){return h.templates.empty({query:f,isEmpty:!0})}function n(){function l(a){var e;return e=$(i.suggestion).append(h.templates.suggestion(a)).data(b,h.name).data(c,h.displayFn(a)).data(d,a),e.children().each(function(){$(this).css(j.suggestionChild)}),e}var e,k;return e=$(i.suggestions).css(j.suggestions),k=a.map(g,l),e.append.apply(e,k),h.highlight&&m({node:e[0],pattern:f}),e}function o(){return h.templates.header({query:f,isEmpty:!k})}function p(){return h.templates.footer({query:f,isEmpty:!k})}if(!this.$el)return;var h=this,k;this.$el.empty(),k=g&&g.length,!k&&this.templates.empty?this.$el.html(l()).prepend(h.templates.header?o():null).append(h.templates.footer?p():null):k&&this.$el.html(n()).prepend(h.templates.header?o():null).append(h.templates.footer?p():null),this.trigger("rendered")},getRoot:function(){return this.$el},update:function(b){function d(a){!c.canceled&&(b===c.query||b===""&&c.showDefault)&&c._render(b,a)}var c=this;b=typeof b=="string"?b:b==null?"":b,this.query=b,this.canceled=!1,this.source(b,d)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),e}(),p=function(){function b(b){var d=this,e,f,g;b=b||{},b.menu||$.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=a.map(b.datasets,c),e=a.bind(this._onSuggestionClick,this),f=a.bind(this._onSuggestionMouseEnter,this),g=a.bind(this._onSuggestionMouseLeave,this),this.$menu=$(b.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),a.each(this.datasets,function(a){d.$menu.append(a.getRoot()),a.onSync("rendered",d._onRendered,d)})}function c(a){return new o(a)}return a.mixin(b.prototype,l,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",$(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor($(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function c(a){return a.isEmpty()}this.isEmpty=a.every(this.datasets,c),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(b,c){b.first().addClass("tt-cursor"),!c&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(b){var c,d,e,f;if(!this.isOpen)return;d=this._getCursor(),c=this._getSuggestions(),this._removeCursor(),e=c.index(d)+b,e=(e+1)%(c.length+1)-1;if(e===-1){this.trigger("cursorRemoved");return}e<-1&&(e=c.length-1),this._setCursor(f=c.eq(e)),this._ensureVisible(f)},_ensureVisible:function(b){var c,d,e,f;c=b.position().top,d=c+b.outerHeight(!0),e=this.$menu.scrollTop(),f=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),c<0?this.$menu.scrollTop(e+c):f<d&&this.$menu.scrollTop(e+(d-f))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened")),this.$menu.scrollTop(0)},setLanguageDirection:function(b){this.$menu.css(b==="ltr"?j.ltr:j.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(b){var c=null;return b.length&&(c={raw:o.extractDatum(b),value:o.extractValue(b),datasetName:o.extractDatasetName(b)}),c},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(c){function d(a){a.update(c)}a.each(this.datasets,d)},empty:function(){function c(a){a.clear()}a.each(this.datasets,c),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function c(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,a.each(this.datasets,c)}}),b}(),q=function(){function c(b){var c,e,f;b=b||{},b.input||$.error("missing input"),this.isActivated=!1,this.autoselect=!!b.autoselect,this.minLength=b.minLength,this.$node=d(b.input,b.withHint),c=this.$node.find(".tt-dropdown-menu"),e=this.$node.find(".tt-input"),f=this.$node.find(".tt-hint"),e.on("blur.tt",function(b){var d,f,g;d=document.activeElement,f=c.is(d),g=c.has(d).length>0,$(this).parent().removeClass("focus"),a.isMsie()&&(f||g)&&(b.preventDefault(),b.stopImmediatePropagation(),a.defer(function(){e.focus()}))}),e.on("focus.tt",function(a){$(this).parent().addClass("focus")}),c.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=b.eventBus||new k({el:e}),this.dropdown=(new p({menu:c,datasets:b.datasets})).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=(new n({input:e,hint:f})).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function d(a,c){var d,e,f,g,h;d=$(a),h=d.prop("attributes"),e=$(i.wrapper),$.each(h,function(){this.name!=="title"&&this.name.substring(0,5)!=="data-"&&e.attr(this.name,this.value)}),e.css(j.wrapper).addClass("tt-wrapper"),f=$(i.dropdown).css(j.dropdown),g=d.clone(!1,!1).css(j.hint),g.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),$.each(h,function(){(this.name==="title"||this.name.substring(0,5)==="data-")&&g.removeAttr(this.name)}),d.data(b,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?j.input:j.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(k){}return d.wrap(e).parent().prepend(c?g:null).append(f)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(c){var d=c.find(".tt-input");a.each(d.data(b),function(b,c){a.isUndefined(b)?d.removeAttr(c):d.attr(c,b)}),d.detach().removeData(b).removeClass("tt-input").insertAfter(c),c.remove()}var b="ttAttrs";return a.mixin(c.prototype,{_onSuggestionClicked:function(b,c){var d;(d=this.dropdown.getDatumForSuggestion(c))&&this._select(d)},_onCursorMoved:function(){var b=this.dropdown.getDatumForCursor();this.input.setInputValue(b.value,!0),this.eventBus.trigger("cursorchanged",b.raw,b.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this.minLength===0&&this.input.getQuery()===""&&this.dropdown.update(""),this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.input.showPlaceholder(),this.eventBus.trigger("closed")},_onFocused:function(){var b;this.isActivated=!0,this.minLength===0&&(b=this.input.getQuery(),this.input.clearHint(),this.dropdown.update(b),this._setLanguageDirection()),this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(b,c){var d,e;d=this.dropdown.getDatumForCursor(),e=this.dropdown.getDatumForTopSuggestion(),d?(this._select(d),c.preventDefault()):this.autoselect&&e&&(this._select(e),c.preventDefault())},_onTabKeyed:function(b,c){var d;(d=this.dropdown.getDatumForCursor())?(this._select(d),c.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var b=this.input.getQuery();this.dropdown.isEmpty&&b.length>=this.minLength?this.dropdown.update(b):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var b=this.input.getQuery();this.dropdown.isEmpty&&b.length>=this.minLength?this.dropdown.update(b):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function(b,c){this.input.clearHintIfInvalid(),this.input.showPlaceholder(),c.length<this.minLength?this.dropdown.empty():this.dropdown.update(c),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var b;this.dir!==(b=this.input.getLanguageDirection())&&(this.dir=b,this.$node.css("direction",b),this.dropdown.setLanguageDirection(b))},_updateHint:function(){var c,d,e,f,g,h;c=this.dropdown.getDatumForTopSuggestion(),c&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(d=this.input.getInputValue(),e=n.normalizeQuery(d),f=a.escapeRegExChars(e),g=RegExp("^(?:"+f+")(.+$)","i"),h=g.exec(c.value),this.input.hidePlaceholder(),h?this.input.setHint(d+h[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(b){var c,d,e,f;c=this.input.getHint(),d=this.input.getQuery(),e=b||this.input.isCursorAtEnd(),c&&d!==c&&e&&(f=this.dropdown.getDatumForTopSuggestion(),f&&this.input.setInputValue(f.value),this.eventBus.trigger("autocompleted",f.raw,f.datasetName))},_select:function(c){this.input.setQuery(c.value),this.input.setInputValue(c.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",c.raw,c.datasetName),this.dropdown.close(),a.defer(a.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(b){this.isActivated?this.input.setInputValue(b):(this.input.setQuery(b),this.input.setInputValue(b,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();(function(){var b,c,d;b=$.fn.typeahead,c="ttTypeahead",d={initialize:function(d,e){function f(){var b=$(this),f=a.isNumber(d.minLength)?d.minLength:1,g,h;a.each(e,function(a){a.highlight=!!d.highlight,a.showDefault=f===0}),h=new q({input:b,eventBus:g=new k({el:b}),withHint:a.isUndefined(d.hint)?!0:!!d.hint,minLength:f,autoselect:d.autoselect,datasets:e}),b.data(c,h)}return e=a.isArray(e)?e:[].slice.call(arguments,1),d=d||{},this.each(f)},open:function(){function b(){var a=$(this),b;(b=a.data(c))&&b.open()}return this.each(b)},close:function(){function b(){var a=$(this),b;(b=a.data(c))&&b.close()}return this.each(b)},val:function(b){function d(){var a=$(this),d;(d=a.data(c))&&d.setVal(b)}function e(a){var b,d;if(b=a.data(c))d=b.getVal();return d}return arguments.length?this.each(d):e(this.first())},destroy:function(){function b(){var a=$(this),b;if(b=a.data(c))b.destroy(),a.removeData(c)}return this.each(b)}},$.fn.typeahead=function(a){return d[a]?d[a].apply(this,[].slice.call(arguments,1)):d.initialize.apply(this,arguments)},$.fn.typeahead.noConflict=function(){return $.fn.typeahead=b,this}})(),function(a,b){function d(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var a=new Date;return d(a.getFullYear(),a.getMonth(),a.getDate())}function f(a){return function(){return this[a].apply(this,arguments)}}function j(b,c){function h(a,b){return b.toLowerCase()}var d=a(b).data(),e={},f,g=RegExp("^"+c.toLowerCase()+"([A-Z])");c=RegExp("^"+c.toLowerCase());for(var i in d)c.test(i)&&(f=i.replace(g,h),e[f]=d[i]);return e}function k(b){var c={};if(!o[b]){b=b.split("-")[0];if(!o[b])return}var d=o[b];return a.each(n,function(a,b){b in d&&(c[b]=d[b])}),c}var c=a(window),g=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){var b=a&&a.valueOf();for(var c=0,d=this.length;c<d;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){if(!b)return;a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b)},clear:function(){this.length=0},copy:function(){var a=new g;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),h=function(b,c){this.dates=new g,this.viewDate=e(),this.focusDate=null,this._process_options(c),this.element=a(b),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=a(p.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(b){this._o=a.extend({},this._o,b);var c=this.o=a.extend({},this._o),d=c.language;o[d]||(d=d.split("-")[0],o[d]||(d=m.language)),c.language=d;switch(c.startView){case 2:case"decade":c.startView=2;break;case 1:case"year":c.startView=1;break;default:c.startView=0}switch(c.minViewMode){case 1:case"months":c.minViewMode=1;break;case 2:case"years":c.minViewMode=2;break;default:c.minViewMode=0}c.startView=Math.max(c.startView,c.minViewMode),c.multidate!==!0&&(c.multidate=Number(c.multidate)||!1,c.multidate!==!1?c.multidate=Math.max(0,c.multidate):c.multidate=1),c.multidateSeparator=c.multidateSeparator+"",c.weekStart%=7,c.weekEnd=(c.weekStart+6)%7;var e=p.parseFormat(c.format);c.startDate!==-Infinity&&(c.startDate?c.startDate instanceof Date?c.startDate=this._local_to_utc(this._zero_time(c.startDate)):c.startDate=p.parseDate(c.startDate,e,c.language):c.startDate=-Infinity),c.endDate!==Infinity&&(c.endDate?c.endDate instanceof Date?c.endDate=this._local_to_utc(this._zero_time(c.endDate)):c.endDate=p.parseDate(c.endDate,e,c.language):c.endDate=Infinity),c.daysOfWeekDisabled=c.daysOfWeekDisabled||[],a.isArray(c.daysOfWeekDisabled)||(c.daysOfWeekDisabled=c.daysOfWeekDisabled.split(/[,\s]*/)),c.daysOfWeekDisabled=a.map(c.daysOfWeekDisabled,function(a){return parseInt(a,10)});var f=(c.orientation+"").toLowerCase().split(/\s+/g),g=c.orientation.toLowerCase();f=a.grep(f,function(a){return/^auto|left|right|top|bottom$/.test(a)}),c.orientation={x:"auto",y:"auto"};if(!!g&&g!=="auto")if(f.length===1)switch(f[0]){case"top":case"bottom":c.orientation.y=f[0];break;case"left":case"right":c.orientation.x=f[0]}else g=a.grep(f,function(a){return/^left|right$/.test(a)}),c.orientation.x=g[0]||"auto",g=a.grep(f,function(a){return/^top|bottom$/.test(a)}),c.orientation.y=g[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c=0,d,e,f;c<a.length;c++)d=a[c][0],a[c].length===2?(e=b,f=a[c][1]):a[c].length===3&&(e=a[c][1],f=a[c][2]),d.on(f,e)},_unapplyEvents:function(a){for(var c=0,d,e,f;c<a.length;c++)d=a[c][0],a[c].length===2?(f=b,e=a[c][1]):a[c].length===3&&(f=a[c][1],e=a[c][2]),d.off(e,f)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(function(b){a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{"mousedown touchstart":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){arguments.length===0?(a=this.dates.length-1,b=this.o.format):typeof a=="string"&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return p.formatDate(c,b,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(a){return a&&new Date(a.getTime()+a.getTimezoneOffset()*6e4)},_local_to_utc:function(a){return a&&new Date(a.getTime()-a.getTimezoneOffset()*6e4)},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,b),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:f("setDates"),setUTCDate:f("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a).change():this.component&&this.element.find("input").val(a).change()},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return p.formatDate(a,c,d)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a}),this.update(),this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return;var b=this.picker.outerWidth(),d=this.picker.outerHeight(),e=10,f=c.width(),g=c.height(),h=c.scrollTop(),i=parseInt(this.element.parents().filter(function(){return a(this).css("z-index")!=="auto"}).first().css("z-index"))+1e3,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left,n=j.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(m-=b-l)):(this.picker.addClass("datepicker-orient-left"),j.left<0?m-=j.left-e:j.left+b>f&&(m=f-b-e));var o=this.o.orientation.y,p,q;o==="auto"&&(p=-h+j.top-d,q=h+g-(j.top+k+d),Math.max(p,q)===q?o="top":o="bottom"),this.picker.addClass("datepicker-orient-"+o),o==="top"?n+=k:n-=d+parseInt(this.picker.css("padding-top")),this.picker.css({top:n,left:m,zIndex:i})},_allow_update:!0,update:function(){if(!this._allow_update)return;var b=this.dates.copy(),c=[],d=!1;arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),c&&this.o.multidate?c=c.split(this.o.multidateSeparator):c=[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return p.parseDate(a,this.o.format,this.o.language)},this)),c=a.grep(c,a.proxy(function(a){return a<this.o.startDate||a>this.o.endDate||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),d?this.setValue():c.length&&b+""!==this.dates+""&&this._trigger("changeDate"),!this.dates.length&&b.length&&this._trigger("clearDate"),this.fill()},fillDow:function(){var a=this.o.weekStart,b="<tr>";if(this.o.calendarWeeks){var c='<th class="cw">&nbsp;</th>';b+=c,this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}while(a<this.o.weekStart+7)b+='<th class="dow">'+
o[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){var a="",b=0;while(b<12)a+='<span class="month">'+o[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){!b||!b.length?delete this.range:this.range=a.map(b,function(a){return a.valueOf()}),this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push("new"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push("today"),this.dates.contains(b)!==-1&&c.push("active"),(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&c.push("disabled"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]?c.push("range"):a.inArray(b.valueOf(),this.range)!==-1&&c.push("selected")),c},fill:function(){var c=new Date(this.viewDate),e=c.getUTCFullYear(),f=c.getUTCMonth(),g=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,h=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,i=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,j=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,k=o[this.o.language].today||o.en.today||"",l=o[this.o.language].clear||o.en.clear||"",m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(o[this.o.language].months[f]+" "+e),this.picker.find("tfoot th.today").text(k).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(l).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var n=d(e,f-1,28),q=p.getDaysInMonth(n.getUTCFullYear(),n.getUTCMonth());n.setUTCDate(q),n.setUTCDate(q-(n.getUTCDay()-this.o.weekStart+7)%7);var r=new Date(n);r.setUTCDate(r.getUTCDate()+42),r=r.valueOf();var s=[],t;while(n.valueOf()<r){if(n.getUTCDay()===this.o.weekStart){s.push("<tr>");if(this.o.calendarWeeks){var u=new Date(+n+(this.o.weekStart-n.getUTCDay()-7)%7*864e5),v=new Date(Number(u)+(11-u.getUTCDay())%7*864e5),w=new Date(Number(w=d(v.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),x=(v-w)/864e5/7+1;s.push('<td class="cw">'+x+"</td>")}}t=this.getClassNames(n),t.push("day");if(this.o.beforeShowDay!==a.noop){var y=this.o.beforeShowDay(this._utc_to_local(n));y===b?y={}:typeof y=="boolean"?y={enabled:y}:typeof y=="string"&&(y={classes:y}),y.enabled===!1&&t.push("disabled"),y.classes&&(t=t.concat(y.classes.split(/\s+/))),y.tooltip&&(m=y.tooltip)}t=a.unique(t),s.push('<td class="'+t.join(" ")+'"'+(m?' title="'+m+'"':"")+">"+n.getUTCDate()+"</td>"),n.getUTCDay()===this.o.weekEnd&&s.push("</tr>"),n.setUTCDate(n.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(s.join(""));var z=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");a.each(this.dates,function(a,b){b.getUTCFullYear()===e&&z.eq(b.getUTCMonth()).addClass("active")}),(e<g||e>i)&&z.addClass("disabled"),e===g&&z.slice(0,h).addClass("disabled"),e===i&&z.slice(j+1).addClass("disabled"),s="",e=parseInt(e/10,10)*10;var A=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;var B=a.map(this.dates,function(a){return a.getUTCFullYear()}),C;for(var D=-1;D<11;D++)C=["year"],D===-1?C.push("old"):D===10&&C.push("new"),a.inArray(e,B)!==-1&&C.push("active"),(e<g||e>i)&&C.push("disabled"),s+='<span class="'+C.join(" ")+'">'+e+"</span>",e+=1;A.html(s)},updateNavArrows:function(){if(!this._allow_update)return;var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate===-Infinity||b>this.o.startDate.getUTCFullYear()||c>this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"visible"}):this.picker.find(".prev").css({visibility:"hidden"}),this.o.endDate===Infinity||b<this.o.endDate.getUTCFullYear()||c<this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"visible"}):this.picker.find(".next").css({visibility:"hidden"});break;case 1:case 2:this.o.startDate===-Infinity||b>this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"visible"}):this.picker.find(".prev").css({visibility:"hidden"}),this.o.endDate===Infinity||b<this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"visible"}):this.picker.find(".next").css({visibility:"hidden"})}},click:function(b){b.preventDefault();var c=a(b.target).closest("span, td, th"),e,f,g;if(c.length===1)switch(c[0].nodeName.toLowerCase()){case"th":switch(c[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var h=p.modes[this.viewMode].navStep*(c[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var i=new Date;i=d(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0),this.showMode(-2);var j=this.o.todayBtn==="linked"?null:"view";this._setDate(i,j);break;case"clear":var k;this.isInput?k=this.element:this.component&&(k=this.element.find("input")),k&&k.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":c.is(".disabled")||(this.viewDate.setUTCDate(1),c.is(".month")?(g=1,f=c.parent().find("span").index(c),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(d(e,f,g))):(g=1,f=0,e=parseInt(c.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(d(e,f,g))),this.showMode(-1),this.fill());break;case"td":c.is(".day")&&!c.is(".disabled")&&(g=parseInt(c.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),c.is(".old")?f===0?(f=11,e-=1):f-=1:c.is(".new")&&(f===11?(f=0,e+=1):f+=1),this._setDate(d(e,f,g)))}this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a?b!==-1?this.dates.remove(b):this.dates.push(a):this.dates.clear();if(typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(a,b){(!b||b==="date")&&this._toggle_multidate(a&&new Date(a));if(!b||b==="view")this.viewDate=a&&new Date(a);this.fill(),this.setValue(),this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.change(),this.o.autoclose&&(!b||b==="date")&&this.hide()},moveMonth:function(a,c){if(!a)return b;if(!c)return a;var d=new Date(a.valueOf()),e=d.getUTCDate(),f=d.getUTCMonth(),g=Math.abs(c),h,i;c=c>0?1:-1;if(g===1){i=c===-1?function(){return d.getUTCMonth()===f}:function(){return d.getUTCMonth()!==h},h=f+c,d.setUTCMonth(h);if(h<0||h>11)h=(h+12)%12}else{for(var j=0;j<g;j++)d=this.moveMonth(d,c);h=d.getUTCMonth(),d.setUTCDate(e),i=function(){return h!==d.getUTCMonth()}}while(i())d.setUTCDate(--e),d.setUTCMonth(h);return d},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)")){a.keyCode===27&&this.show();return}var b=!1,c,d,f,g=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;c=a.keyCode===37?-1:1,a.ctrlKey?(d=this.moveYear(this.dates.get(-1)||e(),c),f=this.moveYear(g,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(d=this.moveMonth(this.dates.get(-1)||e(),c),f=this.moveMonth(g,c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||e()),d.setUTCDate(d.getUTCDate()+c),f=new Date(g),f.setUTCDate(g.getUTCDate()+c)),this.dateWithinRange(d)&&(this.focusDate=this.viewDate=f,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;c=a.keyCode===38?-1:1,a.ctrlKey?(d=this.moveYear(this.dates.get(-1)||e(),c),f=this.moveYear(g,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(d=this.moveMonth(this.dates.get(-1)||e(),c),f=this.moveMonth(g,c),this._trigger("changeMonth",this.viewDate)):(d=new Date(this.dates.get(-1)||e()),d.setUTCDate(d.getUTCDate()+c*7),f=new Date(g),f.setUTCDate(g.getUTCDate()+c*7)),this.dateWithinRange(d)&&(this.focusDate=this.viewDate=f,this.setValue(),this.fill(),a.preventDefault());break;case 32:break;case 13:g=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(g),b=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(a.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(b){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.change()}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+p.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var i=function(b,c){this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,a(this.inputs).datepicker(c).bind("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};i.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(this.updating)return;this.updating=!0;var c=a(b.target).data("datepicker"),d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=this.inputs.length;if(e===-1)return;a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)});if(d<this.dates[e])while(e>=0&&d<this.dates[e])this.pickers[e--].setUTCDate(d);else if(d>this.dates[e])while(e<f&&d>this.dates[e])this.pickers[e++].setUTCDate(d);this.updateDates(),delete this.updating},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var l=a.fn.datepicker;a.fn.datepicker=function(c){var d=Array.apply(null,arguments);d.shift();var e;return this.each(function(){var f=a(this),g=f.data("datepicker"),l=typeof c=="object"&&c;if(!g){var n=j(this,"date"),o=a.extend({},m,n,l),p=k(o.language),q=a.extend({},m,p,n,l);if(f.is(".input-daterange")||q.inputs){var r={inputs:q.inputs||f.find("input").toArray()};f.data("datepicker",g=new i(this,a.extend(q,r)))}else f.data("datepicker",g=new h(this,q))}if(typeof c=="string"&&typeof g[c]=="function"){e=g[c].apply(g,d);if(e!==b)return!1}}),e!==b?e:this};var m=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"yyyy-mm-dd",keyboardNavigation:!0,language:document.settings&&document.settings.language_code||"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},n=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=h;var o=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},p={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,p.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||c.length===0)throw Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,e,f){function u(){var a=this.slice(0,i[l].length),b=i[l].slice(0,a.length);return a===b}if(!c)return b;if(c instanceof Date)return c;typeof e=="string"&&(e=p.parseFormat(e));var g=/([\-+]\d+)([dmwy])/,i=c.match(/([\-+]\d+)([dmwy])/g),j,k,l;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(c)){c=new Date;for(l=0;l<i.length;l++){j=g.exec(i[l]),k=parseInt(j[1]);switch(j[2]){case"d":c.setUTCDate(c.getUTCDate()+k);break;case"m":c=h.prototype.moveMonth.call(h.prototype,c,k);break;case"w":c.setUTCDate(c.getUTCDate()+k*7);break;case"y":c=h.prototype.moveYear.call(h.prototype,c,k)}}return d(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),0,0,0)}i=c&&c.match(this.nonpunctuation)||[],c=new Date;var m={},n=["yyyy","yy","M","MM","m","mm","d","dd"],q={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){if(isNaN(a))return a;b-=1;while(b<0)b+=12;b%=12,a.setUTCMonth(b);while(a.getUTCMonth()!==b)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}},r,s;q.M=q.MM=q.mm=q.m,q.dd=q.d,c=d(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);var t=e.parts.slice();i.length!==t.length&&(t=a(t).filter(function(b,c){return a.inArray(c,n)!==-1}).toArray());if(i.length===t.length){var v;for(l=0,v=t.length;l<v;l++){r=parseInt(i[l],10),j=t[l];if(isNaN(r))switch(j){case"MM":s=a(o[f].months).filter(u),r=a.inArray(s[0],o[f].months)+1;break;case"M":s=a(o[f].monthsShort).filter(u),r=a.inArray(s[0],o[f].monthsShort)+1}m[j]=r}var w,x;for(l=0;l<n.length;l++)x=n[l],x in m&&!isNaN(m[x])&&(w=new Date(c),q[x](w,m[x]),isNaN(w)||(c=w))}return c},formatDate:function(b,c,d){if(!b)return"";typeof c=="string"&&(c=p.parseFormat(c));var e={d:b.getUTCDate(),D:o[d].daysShort[b.getUTCDay()],DD:o[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:o[d].monthsShort[b.getUTCMonth()],MM:o[d].months[b.getUTCMonth()],yy:(b.getUTCFullYear()+"").substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,b=[];var f=a.extend([],c.separators);for(var g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};p.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+p.headTemplate+"<tbody></tbody>"+p.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+p.headTemplate+p.contTemplate+p.footTemplate+"</table>"+"</div>"+"</div>",a.fn.datepicker.DPGlobal=p,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=l,this},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);if(c.data("datepicker"))return;b.preventDefault(),c.datepicker("show")}),a(function(){a('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(a){a.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"}}(jQuery),!function(a){"use strict",a.expr[":"].icontains=function(b,c,d){return a(b).text().toUpperCase().indexOf(d[3].toUpperCase())>=0};var b=function(c,d,e){e&&(e.stopPropagation(),e.preventDefault()),this.$element=a(c),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=a.extend({},a.fn.selectpicker.defaults,this.$element.data(),typeof d=="object"&&d),this.options.title===null&&(this.options.title=this.$element.attr("title")),this.val=b.prototype.val,this.render=b.prototype.render,this.refresh=b.prototype.refresh,this.setStyle=b.prototype.setStyle,this.selectAll=b.prototype.selectAll,this.deselectAll=b.prototype.deselectAll,this.init()};b.prototype={constructor:b,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),c!==undefined&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var b=this.multiple?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",e=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",f=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",g=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':"",h='<div class="btn-group bootstrap-select'+b+c+'">'+'<button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+d+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="caret"></span>'+"</button>"+'<div class="dropdown-menu open">'+e+f+g+'<ul class="dropdown-menu inner selectpicker" role="menu">'+"</ul>"+"</div>"+"</div>";return a(h)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,c=[],d="";return this.$element.find("option").each(function(){var d=a(this),e=d.attr("class")||"",f=d.attr("style")||"",g=d.data("content")?d.data("content"):d.html(),h=d.data("subtext")!==undefined?'<small class="muted text-muted">'+d.data("subtext")+"</small>":"",i=d.data("icon")!==undefined?'<i class="'+b.options.iconBase+" "+d.data("icon")+'"></i> ':"";i!==""&&(d.is(":disabled")||d.parent().is(":disabled"))&&(i="<span>"+i+"</span>"),d.data("content")||(g=i+'<span class="text">'+g+h+"</span>");if(b.options.hideDisabled&&(d.is(":disabled")||d.parent().is(":disabled")))c.push('<a style="min-height: 0; padding: 0"></a>');else if(d.parent().is("optgroup")&&d.data("divider")!==!0)if(d.index()===0){var j=d.parent().attr("label"),k=d.parent().data("subtext")!==undefined?'<small class="muted text-muted">'+d.parent().data("subtext")+"</small>":"",l=d.parent().data("icon")?'<i class="'+d.parent().data("icon")+'"></i> ':"";j=l+'<span class="text">'+j+k+"</span>",d[0].index!==0?c.push('<div class="div-contain"><div class="divider"></div></div><dt>'+j+"</dt>"+b.createA(g,"opt "+e,f)):c.push("<dt>"+j+"</dt>"+b.createA(g,"opt "+e,f))}else c.push(b.createA(g,"opt "+e,f));else d.data("divider")===!0?c.push('<div class="div-contain"><div class="divider"></div></div>'):a(this).data("hidden")===!0?c.push("<a></a>"):c.push(b.createA(g,e,f))}),a.each(c,function(a,b){var c=b==="<a></a>"?'class="hide is-hidden"':"";d+='<li rel="'+a+'"'+c+">"+b+"</li>"}),!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title&&this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(d)},createA:function(a,b,c){return'<a tabindex="0" class="'+b+'" style="'+c+'">'+a+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i>'+"</a>"},render:function(b){var c=this;b!==!1&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var d=this.$element.find("option:selected").map(function(){var b=a(this),d=b.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+b.data("icon")+'"></i> ':"",e;return c.options.showSubtext&&b.attr("data-subtext")&&!c.multiple?e=' <small class="muted text-muted">'+b.data("subtext")+"</small>":e="",b.data("content")&&c.options.showContent?b.data("content"):b.attr("title")!==undefined?b.attr("title"):d+b.html()+e}).toArray(),e=this.multiple?d.join(this.options.multipleSeparator):d[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var f=this.options.selectedTextFormat.split(">"),g=this.options.hideDisabled?":not([disabled])":"";if(f.length>1&&d.length>f[1]||f.length==1&&d.length>=2)e=this.options.countSelectedText.replace("{0}",d.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+g).length)}this.options.title=this.$element.attr("title"),e||(e=this.options.title!==undefined?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a.trim(e)),this.$newElement.find(".filter-option").html(e)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var c=a?a:this.options.style;b=="add"?this.$button.addClass(c):b=="remove"?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){if(this.options.size===!1)return;var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li > a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bootstrap-select-searchbox").outerHeight():0,f=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",f)},setSize:function(){var b=this,c=this.$menu,d=c.find(".inner"),e=this.$newElement.outerHeight(),f=this.$newElement.data("liHeight"),g=this.$newElement.data("headerHeight"),h=this.$newElement.data("searchHeight"),i=this.$newElement.data("actionsHeight"),j=c.find("li .divider").outerHeight(!0),k=parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom"))+parseInt(c.css("border-top-width"))+parseInt(c.css("border-bottom-width")),l=this.options.hideDisabled?":not(.disabled)":"",m=a(window),n=k+parseInt(c.css("margin-top"))+parseInt(c.css("margin-bottom"))+2,o,p,q,r=function(){p=b.$newElement.offset().top-m.scrollTop(),q=m.height()-p-e};r(),this.options.header&&c.css("padding-top",0);if(this.options.size=="auto"){var s=function(){var a,e=b.$lis.not(".hide");r(),o=q-n,b.options.dropupAuto&&b.$newElement.toggleClass("dropup",p>q&&o-n<c.height()),b.$newElement.hasClass("dropup")&&(o=p-n),e.length+e.find("dt").length>3?a=f*3+n-2:a=0,c.css({"max-height":o+"px",overflow:"hidden","min-height":a+g+h+i+"px"}),d.css({"max-height":o-g-h-i-k+"px","overflow-y":"auto","min-height":Math.max(a-k,0)+"px"})};s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),a(window).off("resize.getSize").on("resize.getSize",s),a(window).off("scroll.getSize").on("scroll.getSize",s)}else if(this.options.size&&this.options.size!="auto"&&c.find("li"+l).length>this.options.size){var t=c.find("li"+l+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),u=c.find("li").slice(0,t+1).find(".div-contain").length;o=f*this.options.size+u*j+k,b.options.dropupAuto&&this.$newElement.toggleClass("dropup",p>q&&o<c.height()),c.css({"max-height":o+g+h+i+"px",overflow:"hidden"}),d.css({"max-height":o-k+"px","overflow-y":"auto"})}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width"),c=a.css("width","auto").find("> button").css("width");a.remove(),this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else this.options.width=="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b=this,c="<div />",d=a(c),e,f,g=function(a){d.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup")),e=a.offset(),f=a.hasClass("dropup")?0:a[0].offsetHeight,d.css({top:e.top+f,left:e.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(b.isDisabled())return;g(a(this)),d.appendTo(b.options.container),d.toggleClass("open",!a(this).hasClass("open")),d.append(b.$menu)}),a(window).resize(function(){g(b.$newElement)}),a(window).on("scroll",function(){g(b.$newElement)}),a("html").on("click",function(c){a(c.target).closest(b.$newElement).length<1&&d.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(b,c){this.$lis==null&&(this.$lis=this.$menu.find("li")),a(this.$lis[b]).toggleClass("selected",c)},setDisabled:function(b,c){this.$lis==null&&(this.$lis=this.$menu.find("li")),c?a(this.$lis[b]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):a(this.$lis[b]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),this.$button.attr("tabindex")==-1&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;a("body").on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),!b.options.liveSearch&&!b.multiple&&setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this).parent().index(),e=b.$element.val(),f=b.$element.prop("selectedIndex");b.multiple&&c.stopPropagation(),c.preventDefault();if(!b.isDisabled()&&!a(this).parent().hasClass("disabled")){var g=b.$element.find("option"),h=g.eq(d),i=h.prop("selected"),j=h.parent("optgroup"),k=b.options.maxOptions,l=j.data("maxOptions")||!1;if(!b.multiple)g.prop("selected",!1),h.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(d,!0);else{h.prop("selected",!i),b.setSelected(d,!i);if(k!==!1||l!==!1){var m=k<g.filter(":selected").length,n=l<j.find("option:selected").length,o=b.options.maxOptionsText,p=o[0].replace("{n}",k),q=o[1].replace("{n}",l),r=a('<div class="notify"></div>');if(k&&m||l&&n)o[2]&&(p=p.replace("{var}",o[2][k>1?0:1]),q=q.replace("{var}",o[2][l>1?0:1])),h.prop("selected",!1),b.$menu.append(r),k&&m&&(r.append(a("<div>"+p+"</div>")),b.$element.trigger("maxReached.bs.select")),l&&n&&(r.append(a("<div>"+q+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(d,!1)},10),r.delay(750).fadeOut(300,function(){a(this).remove()})}}b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(e!=b.$element.val()&&b.multiple||f!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(a){a.target==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var b=this,c=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){b.$menu.find(".active").removeClass("active"),!b.$searchbox.val()||(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hide"),!c.parent().length||c.remove()),b.multiple||b.$menu.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){b.$searchbox.val()?(b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+b.$searchbox.val()+")").parent().addClass("hide"),b.$menu.find("li").filter(":visible:not(.no-results)").length?!c.parent().length||c.remove():(!c.parent().length||c.remove(),c.html(b.options.noneResultsText+' "'+b.$searchbox.val()+'"').show(),b.$menu.find("li").last().after(c))):(b.$lis.not(".is-hidden").removeClass("hide"),!c.parent().length||c.remove()),b.$menu.find("li.active").removeClass("active"),b.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),a(this).focus()}),this.$menu.on("mouseenter","a",function(c){b.$menu.find(".active").removeClass("active"),a(c.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){b.$menu.find(".active").removeClass("active")})},val:function(a){return a!==undefined?(this.$element.val(a),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!0),a(this.$lis).filter(":not(.disabled)").addClass("selected"),this.render(!1)},deselectAll:function(){this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!1),a(this.$lis).filter(":not(.disabled)").removeClass("selected"),this.render(!1)},keydown:function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};c=a(this),e=c.parent(),c.is("input")&&(e=c.parent().parent()),l=e.data("this"),l.options
.liveSearch&&(e=c.parent().parent()),l.options.container&&(e=l.$menu),d=a("[role=menu] li:not(.divider) a",e),n=l.$menu.parent().hasClass("open"),!n&&/([0-9]|[A-z])/.test(String.fromCharCode(b.keyCode))&&(l.options.container?l.$newElement.trigger("click"):(l.setSize(),l.$menu.parent().addClass("open"),n=l.$menu.parent().hasClass("open")),l.$searchbox.focus()),l.options.liveSearch&&(/(^9$|27)/.test(b.keyCode)&&n&&l.$menu.find(".active").length===0&&(b.preventDefault(),l.$menu.parent().removeClass("open"),l.$button.focus()),d=a("[role=menu] li:not(.divider):visible",e),!c.val()&&!/(38|40)/.test(b.keyCode)&&d.filter(".active").length===0&&(d=l.$newElement.find("li").filter(":icontains("+o[b.keyCode]+")")));if(!d.length)return;if(/(38|40)/.test(b.keyCode))f=d.index(d.filter(":focus")),h=d.parent(":not(.disabled):visible").first().index(),i=d.parent(":not(.disabled):visible").last().index(),g=d.eq(f).parent().nextAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),k=d.eq(g).parent().prevAll(":not(.disabled):visible").eq(0).index(),l.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),f=d.index(d.filter(".active")),h=d.filter(":not(.disabled):visible").first().data("index"),i=d.filter(":not(.disabled):visible").last().data("index"),g=d.eq(f).nextAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index"),k=d.eq(g).prevAll(":not(.disabled):visible").eq(0).data("index")),m=c.data("prevIndex"),b.keyCode==38&&(l.options.liveSearch&&(f-=1),f!=k&&f>j&&(f=j),f<h&&(f=h),f==m&&(f=i)),b.keyCode==40&&(l.options.liveSearch&&(f+=1),f==-1&&(f=0),f!=k&&f<g&&(f=g),f>i&&(f=i),f==m&&(f=h)),c.data("prevIndex",f),l.options.liveSearch?(b.preventDefault(),c.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(f).addClass("active").find("a").focus(),c.focus())):d.eq(f).focus();else if(!c.is("input")){var p=[],q,r;d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==o[b.keyCode]&&p.push(a(this).parent().index())}),q=a(document).data("keycount"),q++,a(document).data("keycount",q),r=a.trim(a(":focus").text().toLowerCase()).substring(0,1),r!=o[b.keyCode]?(q=1,a(document).data("keycount",q)):q>=p.length&&(a(document).data("keycount",0),q>p.length&&(q=1)),d.eq(p[q-1]).focus()}/(13|32|^9$)/.test(b.keyCode)&&n&&(/(32)/.test(b.keyCode)||b.preventDefault(),l.options.liveSearch?/(32)/.test(b.keyCode)||(l.$menu.find(".active a").click(),c.focus()):a(":focus").click(),a(document).data("keycount",0));if(/(^9$|27)/.test(b.keyCode)&&n&&(l.multiple||l.options.liveSearch)||/(27)/.test(b.keyCode)&&!n)l.$menu.parent().removeClass("open"),l.$button.focus()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},a.fn.selectpicker=function(c,d){var e=arguments,f,g=this.each(function(){if(a(this).is("select")){var g=a(this),h=g.data("selectpicker"),i=typeof c=="object"&&c;if(!h)g.data("selectpicker",h=new b(this,i,d));else if(i)for(var j in i)h.options[j]=i[j];if(typeof c=="string"){var k=c;h[k]instanceof Function?([].shift.apply(e),f=h[k].apply(h,e)):f=h.options[k]}}});return f!==undefined?f:g},a.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",maxOptionsText:["Limit reached ({n} {var} max)","Group limit reached ({n} {var} max)",["items","item"]],width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",b.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(a){a.stopPropagation()})}(window.jQuery),function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof exports=="object"?module.exports=global.window&&global.window.$?a(global.window.$):function(b){if(!b.$&&!b.fn)throw Error("Tokenfield requires a window object with jQuery or a jQuery instance");return a(b.$||b)}:a(jQuery,window)}(function(a,b){"use strict";var c=function(c,d){var e=this;this.$element=a(c),this.textDirection=this.$element.css("direction"),this.options=a.extend(!0,{},a.fn.tokenfield.defaults,{tokens:this.$element.val()},this.$element.data(),d),this._delimiters=typeof this.options.delimiter=="string"?[this.options.delimiter]:this.options.delimiter,this._triggerKeys=a.map(this._delimiters,function(a){return a.charCodeAt(0)}),this._firstDelimiter=this._delimiters[0];var f=a.inArray(" ",this._delimiters),g=a.inArray("-",this._delimiters);f>=0&&(this._delimiters[f]="\\s"),g>=0&&(delete this._delimiters[g],this._delimiters.unshift("-"));var h=["\\","$","[","{","^",".","|","?","*","+","(",")"];a.each(this._delimiters,function(b,c){var d=a.inArray(c,h);d>=0&&(e._delimiters[b]="\\"+c)});var i=b&&typeof b.getMatchedCSSRules=="function"?b.getMatchedCSSRules(c):null,j=c.style.width,k,l=this.$element.width();i&&a.each(i,function(a,b){b.style.width&&(k=b.style.width)});var m=a("body").css("direction")==="rtl"?"right":"left",n={position:this.$element.css("position")};n[m]=this.$element.css(m),this.$element.data("original-styles",n).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(m,"-10000px").prop("tabindex",-1),this.$wrapper=a('<div class="tokenfield form-control" />'),this.$element.hasClass("input-lg")&&this.$wrapper.addClass("input-lg"),this.$element.hasClass("input-sm")&&this.$wrapper.addClass("input-sm"),this.textDirection==="rtl"&&this.$wrapper.addClass("rtl");var o=this.$element.prop("id")||(new Date).getTime()+""+Math.floor((1+Math.random())*100);this.$input=a('<input type="text" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",o+"-tokenfield").prop("tabindex",this.$element.data("original-tabindex"));var p=a('label[for="'+this.$element.prop("id")+'"]');p.length&&p.prop("for",this.$input.prop("id")),this.$copyHelper=a('<input type="text" />').css("position","absolute").css(m,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper),j?this.$wrapper.css("width",j):k?this.$wrapper.css("width",k):this.$element.parents(".form-inline").length&&this.$wrapper.width(l),(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length)&&this.disable(),this.$element.prop("readonly")&&this.readonly(),this.$mirror=a('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>'),this.$input.css("min-width",this.options.minWidth+"px"),a.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(a,b){e.$mirror[0].style[b]=e.$input.css(b)}),this.$mirror.appendTo("body"),this.$wrapper.insertBefore(this.$element),this.$element.prependTo(this.$wrapper),this.update(),this.setTokens(this.options.tokens,!1,!this.$element.val()&&this.options.tokens),this.listen();if(!a.isEmptyObject(this.options.autocomplete)){var q=this.textDirection==="rtl"?"right":"left",r=a.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:q+" top",at:q+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(r)}if(!a.isEmptyObject(this.options.typeahead)){var s=this.options.typeahead,t={minLength:this.options.showAutocompleteOnFocus?0:null},u=a.isArray(s)?s:[s,s];u[0]=a.extend({},t,u[0]),this.$input.typeahead.apply(this.$input,u),this.typeahead=!0,this.$input.parent().css("width","")}};c.prototype={constructor:c,createToken:function(b,c){var d=this;typeof b=="string"?b={value:b,label:b}:b=a.extend({},b),typeof c=="undefined"&&(c=!0),b.value=a.trim(b.value),b.label=b.label&&b.label.length?a.trim(b.label):b.value;if(!b.value.length||!b.label.length||b.label.length<=this.options.minLength)return;if(this.options.limit&&this.getTokens().length>=this.options.limit)return;var e=a.Event("tokenfield:createtoken",{attrs:b});this.$element.trigger(e);if(!e.attrs||e.isDefaultPrevented())return;var f=a('<div class="token" />').append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",b);this.$input.hasClass("tt-input")?this.$input.parent().before(f):this.$input.before(f),this.$input.css("width",this.options.minWidth+"px");var g=f.find(".token-label"),h=f.find(".close");return this.maxTokenWidth||(this.maxTokenWidth=this.$wrapper.width()-h.outerWidth()-parseInt(h.css("margin-left"),10)-parseInt(h.css("margin-right"),10)-parseInt(f.css("border-left-width"),10)-parseInt(f.css("border-right-width"),10)-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10),parseInt(g.css("border-left-width"),10)-parseInt(g.css("border-right-width"),10)-parseInt(g.css("padding-left"),10)-parseInt(g.css("padding-right"),10),parseInt(g.css("margin-left"),10)-parseInt(g.css("margin-right"),10)),g.text(b.label).css("max-width",this.maxTokenWidth),f.on("mousedown",function(a){if(d._disabled||d._readonly)return!1;d.preventDeactivation=!0}).on("click",function(a){if(d._disabled||d._readonly)return!1;d.preventDeactivation=!1;if(a.ctrlKey||a.metaKey)return a.preventDefault(),d.toggle(f);d.activate(f,a.shiftKey,a.shiftKey)}).on("dblclick",function(a){if(d._disabled||d._readonly||!d.options.allowEditing)return!1;d.edit(f)}),h.on("click",a.proxy(this.remove,this)),this.$element.trigger(a.Event("tokenfield:createdtoken",{attrs:b,relatedTarget:f.get(0)})),c&&this.$element.val(this.getTokensList()).trigger(a.Event("change",{initiator:"tokenfield"})),this.update(),this.$element.get(0)},setTokens:function(b,c,d){if(!b)return;c||this.$wrapper.find(".token").remove(),typeof d=="undefined"&&(d=!0),typeof b=="string"&&(this._delimiters.length?b=b.split(RegExp("["+this._delimiters.join("")+"]")):b=[b]);var e=this;return a.each(b,function(a,b){e.createToken(b,d)}),this.$element.get(0)},getTokenData:function(b){var c=b.map(function(){var b=a(this);return b.data("attrs")}).get();return c.length==1&&(c=c[0]),c},getTokens:function(b){var c=this,d=[],e=b?".active":"";return this.$wrapper.find(".token"+e).each(function(){d.push(c.getTokenData(a(this)))}),d},getTokensList:function(b,c,d){b=b||this._firstDelimiter,c=typeof c!="undefined"&&c!==null?c:this.options.beautify;var e=b+(c&&b!==" "?" ":"");return a.map(this.getTokens(d),function(a){return a.value}).join(e)},getInput:function(){return this.$input.val()},listen:function(){var c=this;this.$element.on("change",a.proxy(this.change,this)),this.$wrapper.on("mousedown",a.proxy(this.focusInput,this)),this.$input.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("paste",a.proxy(this.paste,this)).on("keydown",a.proxy(this.keydown,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.$copyHelper.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keydown",a.proxy(this.keydown,this)).on("keyup",a.proxy(this.keyup,this)),this.$input.on("keypress",a.proxy(this.update,this)).on("keyup",a.proxy(this.update,this)),this.$input.on("autocompletecreate",function(){var b=a(this).data("ui-autocomplete").menu.element,d=c.$wrapper.outerWidth()-parseInt(b.css("border-left-width"),10)-parseInt(b.css("border-right-width"),10);b.css("min-width",d+"px")}).on("autocompleteselect",function(a,b){return c.createToken(b.item)&&(c.$input.val(""),c.$input.data("edit")&&c.unedit(!0)),!1}).on("typeahead:selected typeahead:autocompleted",function(a,b,d){c.createToken(b)&&(c.$input.typeahead("val",""),c.$input.data("edit")&&c.unedit(!0))}),a(b).on("resize",a.proxy(this.update,this))},keydown:function(b){function d(a){if(c.$input.is(document.activeElement)){if(c.$input.val().length>0)return;a+="All";var d=c.$input.hasClass("tt-input")?c.$input.parent()[a](".token:first"):c.$input[a](".token:first");if(!d.length)return;c.preventInputFocus=!0,c.preventDeactivation=!0,c.activate(d),b.preventDefault()}else c[a](b.shiftKey),b.preventDefault()}function e(d){if(!b.shiftKey)return;if(c.$input.is(document.activeElement)){if(c.$input.val().length>0)return;var e=c.$input.hasClass("tt-input")?c.$input.parent()[d+"All"](".token:first"):c.$input[d+"All"](".token:first");if(!e.length)return;c.activate(e)}var f=d==="prev"?"next":"prev",g=d==="prev"?"first":"last";c.firstActiveToken[f+"All"](".token").each(function(){c.deactivate(a(this))}),c.activate(c.$wrapper.find(".token:"+g),!0,!0),b.preventDefault()}if(!this.focused)return;var c=this;switch(b.keyCode){case 8:if(!this.$input.is(document.activeElement))break;this.lastInputValue=this.$input.val();break;case 37:d(this.textDirection==="rtl"?"next":"prev");break;case 38:e("prev");break;case 39:d(this.textDirection==="rtl"?"prev":"next");break;case 40:e("next");break;case 65:if(this.$input.val().length>0||!b.ctrlKey&&!b.metaKey)break;this.activateAll(),b.preventDefault();break;case 9:case 13:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus)").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length)break;if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val().length)break;if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit"))return this.createTokensFromInput(b,this.$input.data("edit"));if(b.keyCode===13){if(!this.$copyHelper.is(document.activeElement)||this.$wrapper.find(".token.active").length!==1)break;if(!c.options.allowEditing)break;this.edit(this.$wrapper.find(".token.active"))}}this.lastKeyDown=b.keyCode},keypress:function(b){this.lastKeyPressCode=b.keyCode,this.lastKeyPressCharCode=b.charCode;if(a.inArray(b.charCode,this._triggerKeys)!==-1&&this.$input.is(document.activeElement))return this.$input.val()&&this.createTokensFromInput(b),!1},keyup:function(a){this.preventInputFocus=!1;if(!this.focused)return;switch(a.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&this.lastKeyDown===8)break;this.preventDeactivation=!0;var b=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!b.length)break;this.activate(b)}else this.remove(a);break;case 46:this.remove(a,"next")}this.lastKeyUp=a.keyCode},focus:function(a){this.focused=!0,this.$wrapper.addClass("focus"),this.$input.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null,this.options.showAutocompleteOnFocus&&this.search())},blur:function(a){this.focused=!1,this.$wrapper.removeClass("focus"),!this.preventDeactivation&&!this.$element.is(document.activeElement)&&(this.$wrapper.find(".active").removeClass("active"),this.$firstActiveToken=null),!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)&&this.createTokensFromInput(a),this.preventDeactivation=!1,this.preventCreateTokens=!1},paste:function(a){var b=this;b.options.allowPasting&&setTimeout(function(){b.createTokensFromInput(a)},1)},change:function(a){if(a.initiator==="tokenfield")return;this.setTokens(this.$element.val())},createTokensFromInput:function(a,b){if(this.$input.val().length<this.options.minLength)return;var c=this.getTokensList();return this.setTokens(this.$input.val(),!0),c==this.getTokensList()&&this.$input.val().length?!1:(this.$input.hasClass("tt-input")?this.$input.typeahead("val",""):this.$input.val(""),this.$input.data("edit")&&this.unedit(b),!1)},next:function(a){if(a){var b=this.$wrapper.find(".active:first"),c=b&&this.$firstActiveToken?b.index()<this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:last"),e=d.nextAll(".token:first");if(!e.length){this.$input.focus();return}this.activate(e,a)},prev:function(a){if(a){var b=this.$wrapper.find(".active:last"),c=b&&this.$firstActiveToken?b.index()>this.$firstActiveToken.index():!1;if(c)return this.deactivate(b)}var d=this.$wrapper.find(".active:first"),e=d.prevAll(".token:first");e.length||(e=this.$wrapper.find(".token:first"));if(!e.length&&!a){this.$input.focus();return}this.activate(e,a)},activate:function(b,c,d,e){if(!b)return;if(typeof e=="undefined")var e=!0;if(d)var c=!0;this.$copyHelper.focus(),c||(this.$wrapper.find(".active").removeClass("active"),e?this.$firstActiveToken=b:delete this.$firstActiveToken);if(d&&this.$firstActiveToken){var f=this.$firstActiveToken.index()-2,g=b.index()-2,h=this;this.$wrapper.find(".token").slice(Math.min(f,g)+1,Math.max(f,g)).each(function(){h.activate(a(this),!0)})}b.addClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()},activateAll:function(){var b=this;this.$wrapper.find(".token").each(function(c){b.activate(a(this),c!==0,!1,!1)})},deactivate:function(a){if(!a)return;a.removeClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()},toggle:function(a){if(!a)return;a.toggleClass("active"),this.$copyHelper.val(this.getTokensList(null,null,!0)).select()},edit:function(b){if(!b)return;var c=b.data("attrs"),d={attrs:c,relatedTarget:b.get(0)},e=a.Event("tokenfield:edittoken",d);this.$element.trigger(e);if(e.isDefaultPrevented())return;b.find(".token-label").text(c.value);var f=b.outerWidth(),g=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;b.replaceWith(g),this.preventCreateTokens=!0,this.$input.val(c.value).select().data("edit",!0).width(f),this.update(),this.$element.trigger(a.Event("tokenfield:editedtoken",d))},unedit:function(a){var b=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;b.appendTo(this.$wrapper),this.$input.data("edit",!1),this.$mirror.text(""),this.update();if(a){var c=this;setTimeout(function(){c.$input.focus()},1)}},remove:function(b,c){if(this.$input.is(document.activeElement)||this._disabled||this._readonly)return;var d=b.type==="click"?a(b.target).closest(".token"):this.$wrapper.find(".token.active");if(b.type!=="click"){if(!c)var c="prev";this[c]();if(c==="prev")var e=d.first().prevAll(".token:first").length===0}var f={attrs:this.getTokenData(d),relatedTarget:d.get(0)},g=a.Event("tokenfield:removetoken",f);this.$element.trigger(g);if(g.isDefaultPrevented())return;var h=a.Event("tokenfield:removedtoken",f),i=a.Event("change",{initiator:"tokenfield"});d.remove(),this.$element.val(this.getTokensList()).trigger(h).trigger(i),(!this.$wrapper.find(".token").length||b.type==="click"||e)&&this.$input.focus(),this.$input.css("width",this.options.minWidth+"px"),this.update(),b.preventDefault(),b.stopPropagation()},update:function(a){var b=this.$input.val(),c=parseInt(this.$input.css("padding-left"),10),d=parseInt(this.$input.css("padding-right"),10),e=c+d;if(this.$input.data("edit")){b||(b=this.$input.prop("placeholder"));if(b===this.$mirror.text())return;this.$mirror.text(b);var f=this.$mirror.width()+10;if(f>this.$wrapper.width())return this.$input.width(this.$wrapper.width());this.$input.width(f)}else{var g=this.textDirection==="rtl"?this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-e-1:this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-e;isNaN(g)?this.$input.width("100%"):this.$input.width(g)}},focusInput:function(b){if(a(b.target).closest(".token").length||a(b.target).closest(".token-input").length||a(b.target).closest(".tt-dropdown-menu").length)return;var c=this;setTimeout(function(){c.$input.focus()},0)},search:function(){this.$input.data("ui-autocomplete")&&this.$input.autocomplete("search")},disable:function(){this.setProperty("disabled",!0)},enable:function(){this.setProperty("disabled",!1)},readonly:function(){this.setProperty("readonly",!0)},writeable:function(){this.setProperty("readonly",!1)},setProperty:function(a,b){this["_"+a]=b,this.$input.prop(a,b),this.$element.prop(a,b),this.$wrapper[b?"addClass":"removeClass"](a)},destroy:function(){this.$element.val(this.getTokensList()),this.$element.css(this.$element.data("original-styles")),this.$element.prop("tabindex",this.$element.data("original-tabindex"));var b=a('label[for="'+this.$input.prop("id")+'"]');b.length&&b.prop("for",this.$element.prop("id")),this.$element.insertBefore(this.$wrapper),this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tokenfield"),this.$wrapper.remove(),this.$mirror.remove();var c=this.$element;return delete this,c}};var d=a.fn.tokenfield;return a.fn.tokenfield=function(b,d){var e,f=[];Array.prototype.push.apply(f,arguments);var g=this.each(function(){var g=a(this),h=g.data("bs.tokenfield"),i=typeof b=="object"&&b;typeof b=="string"&&h&&h[b]?(f.shift(),e=h[b].apply(h,f)):!h&&typeof b!="string"&&!d&&(g.data("bs.tokenfield",h=new c(this,i)),g.trigger("tokenfield:initialize"))});return typeof e!="undefined"?e:g},a.fn.tokenfield.defaults={minWidth:60,minLength:0,allowEditing:!0,allowPasting:!0,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:!1,createTokensOnBlur:!1,delimiter:",",beautify:!0},a.fn.tokenfield.Constructor=c,a.fn.tokenfield.noConflict=function(){return a.fn.tokenfield=d,this},c}),function(a){"use strict";var b=function(b,c){this.$element=a(b);var d=this.$element.attr("related"),e=d?a("#"+d):this.$element;e.hasClass("dynamic-formset")?this.$formset=e:this.$formset=e.closest(".dynamic_formset"),this.options=a.extend({},c,this.$formset.data("dynamic-formset")||{}),this.$container=this.$formset.find("> div.form-form")||a("#"+this.$formset.attr("related"));if(!this.$container.attr("prefix"))throw Error("FormSet must have a container with prefix!");var f=this.$container.attr("id").replace("div_id_","");this.initialForms=parseInt(a("#id_"+f+"-INITIAL_FORMS").val(),10),this.minNumForms=parseInt(a("#id_"+f+"-MIN_NUM_FORMS").val(),10),this.maxNumForms=parseInt(a("#id_"+f+"-MAX_NUM_FORMS").val(),10),this.$totalForms=a("#id_"+f+"-TOTAL_FORMS"),this.formSeq=parseInt(this.$totalForms.val(),10),this.$loader=a("#"+this.options.loaderId);var g=this.$container.find("> .subform > .dynamic_formset_form");this.initialForms&&g.each(function(a){if(a<this.initialForms){var b=this.$formset.closestDescendant("a.delete-row");b.hasClass("disable-delete")&&(b.siblings('input:hidden[name $= "-DELETE"]').remove(),b.remove())}}),this.updateForms(g,this.$loader)};b.prototype.updateForms=function(a,b){var c=a.filter(":visible"),d=c.closestDescendant("a.delete-row");c.length>this.minNumForms?d.show():d.hide(),c.length<this.maxNumForms?b.show():b.hide()},b.prototype.elementIndexUpdater=function(b){var c=RegExp("("+b+"-\\d+-)"),d=function(a,b,d){var e=a.attr(b);if(e!==undefined){var f=e.replace(c,d);f!==e&&a.attr(b,f)}};return function(c){var e=b+"-"+c+"-";return function(){var b=a(this);d(b,"name",e),d(b,"prefix",e)}}},b.prototype.deleteForm=function(b,c){var d=this,e=a(b),f=this.$formset,g=this.$container,h=this.initialForms,i=g.find("> .subform > .dynamic_formset_form"),j=i.index(this.$form),k=this.$loader,l=this.$totalForms,m=g.attr("prefix"),n=parseInt(this.$totalForms.val(),10),o=e.closest(".dynamic_formset_form"),p;j!==-1&&j<h&&(p=o.closestDescendant('input:hidden[name $= "-DELETE"]')),i=i.not(o);if(p&&p.length)p.val("on"),o.hide();else{o.remove(),i.length!==n-1&&console.error("FormSet.deleteForm: Form count mismatch: "+i.length+" !== "+(n-1)," (#"+l.attr("id")+")"),l.val(i.length);var q=d.elementIndexUpdater(m);i.each(function(b){a(this).find("[name], [prefix]").add(this).each(q(b))})}this.updateForms(i,k),typeof c=="function"&&c.apply(d,[o,e]),f.trigger("formset-deleted",[o,f])},b.prototype.addForm=function(b,c){var d=this,e=a(b),f=this.$formset,g=this.$container,h=this.$totalForms,i=g.attr("prefix"),j;a.ajax({url:e.attr("src"),async:!c,success:function(b){var k=parseInt(h.val(),10),l=a(b.replace(/__fp__/g,i.replace(/-[^-]*$/,"")).replace(/__fc__/g,d.formSeq));d.formSeq+=1,g.find("> .subform").append(l),j=g.find("> .subform > .dynamic_formset_form"),j.length!==k+1&&console.error("FormSet.addForm: Form count mismatch: "+j.length+" !== "+(k+1)," (#"+h.attr("id")+")"),h.val(j.length);var m=d.elementIndexUpdater(i);j.each(function(b){a(this).find("[name], [prefix]").add(this).each(m(b))}),d.updateForms(j,e),typeof c=="function"&&c.apply(d,[l,e]),l.liveSetup(),f.trigger("formset-added",[l,e])}})},a.fn.formset=function(c,d){return this.each(function(){var e=a(this),f=e.attr("related"),g=f?a("#"+f):e,h=g.data("dynformset")||e.data("dynformset"),i=typeof c=="object"&&c;h||(h=new b(this,i),g.data("dynformset",h),e.data("dynformset",h)),c=="add"?h.addForm(this,d):c=="delete"&&h.deleteForm(this,d)})},a(document).on("click",".dynamic_formset a.delete-row",function(b){a(this).formset("delete")}),a(document).on("click","a.add-row",function(b){a(this).formset("add")})}(jQuery),function(a){function b(b,c){switch(b){case"me":return a(c);case"parent":return a(c.parent());case"next":return a(c.next());case"prev":return a(c.prev());default:return a(b)}}"use strict";var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d);var e=a(this.$element.closest("[action]"));this.target=e.data("target"),this.action=e.attr("action"),this.method=e.attr("method"),this.prefix=e.data("prefix")||"",this.source=e.data("source"),this.omit_insertion=e.data("omit-insertion")!==undefined,this.loaded="lazy-loaded "+(e.data("loaded")||"loaded"),this.ignore_loaded=e.data("ignore-loaded")!==undefined,this.collapse_class=e.data("collapse-class"),this.subprefix=e.data("subprefix"),this.replacewith=e.data("replacewith")};c.prototype.load=function(){var c=this,d=b(this.target,this.$element),e=this.prefix,f=this.subprefix,g=this.replacewith,h=this.loaded,i=this.collapse_class;d.length||console.error("No target for lazy loader!"),!i||d.hasClass(i)?!this.ignore_loaded&&d.hasClass(h)?(d.removeClass(i),d.trigger("lazyloader-done",[this.$element])):(d.trigger("lazyloader-processing",[this.$element]),a.ajax({url:this.action,type:this.method,data:this.source&&a("input, textarea, select",this.source).serialize(),success:function(b,j,k){var l=b.data||b;b.message&&announce({status:b.status,message:b.message,settimer:b.settimer}),e?l=l.replace(/__fp__/g,e):l=l.replace(/__fp__-/g,e);if(f&&g){var m=RegExp(f,"g");l=l.replace(m,g)}if(!c.omit_insertion){var n=a(l);d.html(n),n.liveSetup()}d.removeClass("loaded loaded-edit loaded-detail"),c.ignore_loaded||d.removeClass("loaded loaded-edit loaded-detail").addClass(h),d.removeClass(i),d.trigger("lazyloader-done",[c.$element,l])},error:function(a,b,e){var f=a.status+" - "+(e||"Connection Error!");announce({status:"ERR",message:f}),d.trigger("lazyloader-error",[c.$element])}})):(d.removeClass("loaded loaded-edit"),d.addClass(i),d.trigger("lazyloader-done",[this.$element]))},c.prototype.submit=function(){var c=this,d=b(this.target,this.$element),e=this.collapse_class,f=this.subprefix,g=this.replacewith,h;h=a("input, textarea, select",this.source).serialize();if(f&&g){var i=RegExp(f,"g");h=h.replace(i,g)}d.trigger("ajaxify-submit-processing",[this.$element]),a.ajax({url:this.action,type:this.method,data:h,success:function(a,b,f){a.message&&announce({status:a.status,message:a.message,settimer:a.settimer}),a.status==="OK"?(e&&d.addClass(e),d.removeClass("loaded loaded-edit loaded-detail"),d.trigger("ajaxify-submit-done",[c.$element,a])):d.trigger("ajaxify-submit-error",[c.$element,a])},error:function(a,b,e){var f=a.status+" - "+(e||"Connection Error!");announce({status:"ERR",message:f}),d.trigger("ajaxify-submit-error",[c.$element])}})},c.DEFAULTS={},a.fn.lazyloader=function(b){return this.each(function(){var d=a(this),e=d.data("lazyloader"),f=typeof b=="object"&&b;e||d.data("lazyloader",e=new c(this,f)),typeof b=="string"&&e[b]()})},a(document).on("click.dub.lazyloader",'[data-provide="lazy-loader"]',function(b){b.preventDefault(),b.stopPropagation(),a(this).lazyloader("load")}),a(document).on("click.dub.lazyloader",'.lazy-loaded [type="submit"], [data-provide="ajaxify-submit"]',function(b){b.preventDefault(),b.stopPropagation(),a(this).lazyloader("submit")})}(jQuery),$.liveSetup("inline_edit",function(a,b,c){c(".inline-edit",b).on("ajaxify-submit-done",function(a,b,c){if(c&&c.data){var d=$(c.data),e=$(this),f=$($(this).attr("rel"));f.html(d),d.liveSetup(),f.show(),e.hide()}}).on("ajaxify-submit-error",function(a,b,c){if(c&&c.data){var d=b.closest(".inline-edit"),e=$(c.data);d.html(e),e.liveSetup()}}).on("lazyloader-done",function(a,b,c){var d=$(this).attr("rel");$(d).hide(),$(this).show().find("input:visible:not([disabled], [type=hidden]), select:visible:not([disabled]), textarea:visible:not([disabled]), button:visible:not([disabled])").first().focus()}),c('[data-provide="cancel-edition"]',b).on("click",function(){var a=$(this).closest(".inline-edit"),b=$(a).attr("rel");return a.removeClass("loaded lazy-loaded"),$(b).show(),$(a).hide(),!1})}),function(a){a.validators=function(b){function d(b){var c=this.validators[b];if(c){if(a.isFunction(c))return c;if(a.isFunction(a.validators.prototype[c]))return a.validators.prototype[c]}return c}function e(){for(var b in this.validators){var c=d.call(this,b);if(c===undefined||a.isFunction(c))return}for(var e in this.errors)if(this.errors.hasOwnProperty(e)&&this.errors[e]){this.has_errors=!0;break}for(var f in this.callbacks){var g=this.callbacks[f];if(a.isFunction(g)&&g.apply(this,arguments)===!1)break}}var c={validators:{},onValidated:function(){}};return a.extend(c,b,{callbacks:null,valid:!0,warning:!1,has_errors:null,errors:{},validated:function(a,b){typeof b!="boolean"&&b!==null&&(b=!1,console.error("validated() for "+a+" should be called with a true, false or null as the second parameter!"));if(b===!1||b===null)this.valid=b;this.validators[a]=b,e.apply(this,this.args)},validate:function(){this.args=arguments,this.callbacks=[],this.callbacks.push(this.onValidated);for(var b in this.validators){var c=d.call(this,b),f=c.onValidated;f&&this.callbacks.push(f);if(a.isFunction(c)){var g=c.apply(this,arguments);if(g===!1||g===null)this.valid=g;this.validators[b]=g}}return e.apply(this,this.args),this}})}}(jQuery),function(a){var b={className:"",text:"Drop a file",previewImage:!0,value:null,classes:{main:"ezdz-dropzone",enter:"ezdz-enter",reject:"ezdz-reject",accept:"ezdz-accept",warning:"ezdz-warning",focus:"ezdz-focus"},html:{accept:'<i class="fa fa-check"></i>',warning:'<i class="fa fa-clock-o"></i>',reject:'<i class="fa fa-times"></i>'},validators:{maxSize:null,width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},init:function(){},enter:function(){},leave:function(){},reject:function(){},accept:function(){},format:function(a){return a}};a.ezdz=function(c,d){this.settings=a.extend(!0,{},b,a.ezdz.defaults,d),this.$input=a(c);var e=this,f=e.settings,g=e.$input;if(!g.is('input[type="file"]'))return;if(!a.ezdz.isBrowserCompatible())return;var h=function(){var b,d,h;d=g.closest("."+f.classes.main.replace(/ /g,".")),d.length||(d=a('<div class="'+f.classes.main+'" />'),g.wrap(d).before("<div>"+f.text+"</div>")),d.on("dragover.ezdz",function(){a(this).addClass(f.classes.enter),a.isFunction(f.enter)&&f.enter.apply(this)}).on("dragleave.ezdz",function(){a(this).removeClass(f.classes.enter),a.isFunction(f.leaved)&&f.leaved.apply(this)}).addClass(f.className),b=g.parent("."+f.classes.main.split(" ").join(".")),h=f.value||g.data("value"),h&&e.preview(h),a.isFunction(f.init)&&f.init.apply(g,[h]),g.on("focus.ezdz",function(){b.addClass(f.classes.focus)}).on("blur.ezdz",function(){b.removeClass(f.classes.focus)}).on("change.ezdz",function(){var d=this.files[0];if(!d)return;var e=d.name.replace(/\\/g,"/").replace(/.*\//,""),h=d.name.split(".").pop(),i=f.format(e);d.extension=h;var j=function(a,b){return valid=!0,f.validators.maxSize&&b.size>f.validators.maxSize&&(valid=!1,this.errors.maxSize=!0),valid},k=function(b,c){var d=a(b).attr("accept"),e=!1;if(d){var f=d.split(/[,|]/);for(var g in f){var h=a.trim(f[g]);h.indexOf("*.")===0&&(h=h.replace("*.","."));if(h[0]=="."&&h=="."+c.extension){e=!0;break}if(c.type==h){e=!0;break}if(h.indexOf("/*")!==-1){var i=h.replace("/*",""),j=c.type.replace(/(\/.*)$/g,"");if(i==j){e=!0;break}}}e||(this.errors.mimeType=!0)}else e=!0;return e},l=function(a,b){var c=this,d=!1;if(b.data.indexOf("data:image/")!==0)return!0;this.img=new Image,this.img.src=b.data;var e=function(){if(
d)return;d=!0;var a=!0,e=c.img.width&&c.img.height;e?(b.width=c.img.width,b.height=c.img.height,f.validators.width&&c.img.width!=f.validators.width&&(c.errors.width=!0,a=!1),f.validators.maxWidth&&c.img.width>f.validators.maxWidth&&(c.errors.maxWidth=!0,a=!1),f.validators.minWidth&&c.img.width<f.validators.minWidth&&(c.errors.minWidth=!0,a=!1),f.validators.height&&c.img.height!=f.validators.height&&(c.errors.height=!0,a=!1),f.validators.maxHeight&&c.img.height>f.validators.maxHeight&&(c.errors.maxHeight=!0,a=!1),f.validators.minHeight&&c.img.height<f.validators.minHeight&&(c.errors.minHeight=!0,a=!1),a||delete c.img):delete c.img,c.validated("validateImage",a)};this.img.onload=e,setTimeout(e,0)},m=function(c,d){b.removeClass(f.classes.reject+" "+f.classes.accept+" "+f.classes.warning);if(this.valid){var e,g,h;this.warning?(e=f.classes.warning,g=f.html.warning,a.isFunction(f.warning)?h=f.warning:a.isFunction(f.accept)&&(h=f.accept)):(e=f.classes.accept,g=f.html.accept,a.isFunction(f.accept)&&(h=f.accept)),b.find("img").remove(),f.previewImage&&this.img?b.find("> div:first").html(a(this.img).fadeIn()):(b.attr("title",i),b.find("> div:first").html(g)),b.addClass(e),h&&h.apply(c,[d])}else this.valid===!1&&a(c).val(""),b.find("> div:first").html(f.html.reject),b.addClass(f.classes.reject),a.isFunction(f.reject)&&f.reject.apply(c,[d,this.errors])},n=new FileReader(d);n.readAsDataURL(d),n.onload=n.onerror=function(b){d.data=b.target&&b.target.result;var e=a.validators({onValidated:m,validators:{validateSize:j,validateAccept:k,validateImage:l}}),f=g.data("validators");f=f&&f.split(" ");for(var h in f){var i=f[h];a.validators.prototype[i]?e.validators[i]=i:console.error("Invalid validator name: "+i)}e.validate(c,d)}})};h()},a.ezdz.prototype.preview=function(b,c){var d=this.settings,e=this.$input,f=e.parent("."+d.classes.main),g=b.replace(/\\/g,"/").replace(/.*\//,""),h=d.format(g),i=new Image;i.src=b,i.onload=function(){e.closest(".ezdz-dropzone").find("div").html(a(i).fadeIn()),a.isFunction(c)&&c.apply(this)},i.onerror=function(){f.find("div").html("<span>"+h+"</span>"),a.isFunction(c)&&c.apply(this)},f.addClass(d.classes.accept)},a.ezdz.prototype.destroy=function(){var a=this.settings,b=this.$input;b.parent("."+a.classes.main).replaceWith(b),b.off("*.ezdz"),b.data("ezdz","")},a.ezdz.prototype.options=function(b){var c=this.settings;if(!b)return c;a.extend(!0,this.settings,b)},a.ezdz.prototype.container=function(){var a=this.settings,b=this.$input;return b.parent("."+a.classes.main)},a.ezdz.isBrowserCompatible=function(){return!!(window.File&&window.FileList&&window.FileReader)},a.ezdz.defaults=b,a.fn.ezdz=function(b){var c=arguments,d=a(this).data("ezdz");if(!d)return a(this).data("ezdz",new a.ezdz(this,b));if(typeof b=="string"){if(d[b])return d[b].apply(d,Array.prototype.slice.call(c,1));a.error("Ezdz error - Method "+b+" does not exist.")}}}(jQuery),function(a){var b=function(c,d){this.$form=a(c),this.options=a.extend({},b.DEFAULT_OPTIONS,d),this.dfds={},this.results={},this.invalidField=null,this.$submitButton=null,this._init(),this.STATUS_NOT_VALIDATED="NOT_VALIDATED",this.STATUS_VALIDATING="VALIDATING",this.STATUS_INVALID="INVALID",this.STATUS_VALID="VALID"};b.DEFAULT_OPTIONS={elementClass:"bootstrap-validator-form",message:"This value is not valid",feedbackIcons:{valid:null,invalid:null,validating:null},submitButtons:'button[type="submit"]',submitHandler:null,live:"enabled",fields:null},b.prototype={constructor:b,_init:function(){if(this.options.fields==null)return;var b=this;this.$form.attr("novalidate","novalidate").addClass(this.options.elementClass).on("submit.bootstrapValidator",function(a){a.preventDefault(),b.validate()}).find(this.options.submitButtons).on("click",function(){b.$submitButton=a(this)});for(var c in this.options.fields)this._initField(c);this._setLiveValidating()},_initField:function(b){if(this.options.fields[b]==null||this.options.fields[b].validators==null)return;this.dfds[b]={},this.results[b]={};var c=this.getFieldElements(b);if(c==null){delete this.options.fields[b],delete this.dfds[b];return}var d=a(c[0]),e=d.closest(".form-group"),f=this._getMessageContainer(d);d.data("bootstrapValidator.messageContainer",f);for(var g in this.options.fields[b].validators){if(!a.fn.bootstrapValidator.validators[g]){delete this.options.fields[b].validators[g];continue}this.results[b][g]=this.STATUS_NOT_VALIDATED,a("<small/>").css("display","none").attr("data-bs-validator",g).html(this.options.fields[b].validators[g].message||this.options.message).addClass("help-block").appendTo(f)}if(this.options.feedbackIcons){e.addClass("has-feedback");var h=a("<i/>").css("display","none").addClass("form-control-feedback").insertAfter(a(c[c.length-1]));e.find("label").length==0&&h.css("top",0)}this.options.fields[b]["enabled"]==null&&(this.options.fields[b].enabled=!0);var i=this,j=c.attr("type"),k="radio"==j||"checkbox"==j||"SELECT"==c[0].tagName?"change":"keyup";c.on(k,function(){i.updateStatus(d,i.STATUS_NOT_VALIDATED,null)})},_getMessageContainer:function(a){var b=a.parent();if(b.hasClass("form-group"))return b;var c=b.attr("class");if(!c)return this._getMessageContainer(b);c=c.split(" ");var d=c.length;for(var e=0;e<d;e++)if(/^col-(xs|sm|md|lg)-\d+$/.test(c[e])||/^col-(xs|sm|md|lg)-offset-\d+$/.test(c[e]))return b;return this._getMessageContainer(b)},_setLiveValidating:function(){if("enabled"==this.options.live){var a=this;for(var b in this.options.fields)(function(b){var c=a.getFieldElements(b);if(c){var d=c.attr("type"),e="radio"==d||"checkbox"==d||"SELECT"==c[0].tagName?"change":"keyup";c.on(e,function(){a.validateField(b)})}})(b)}},_disableSubmitButtons:function(a){a?this.options.live!="disabled"&&this.$form.find(this.options.submitButtons).attr("disabled","disabled"):this.$form.find(this.options.submitButtons).removeAttr("disabled")},_submit:function(){if(!this.isValid()){"submitted"==this.options.live&&(this.options.live="enabled",this._setLiveValidating()),this.invalidField&&this.getFieldElements(this.invalidField).focus();return}this._disableSubmitButtons(!0),this.options.submitHandler&&"function"==typeof this.options.submitHandler?this.options.submitHandler.call(this,this,this.$form,this.$submitButton):this.$form.off("submit.bootstrapValidator").submit()},getFieldElements:function(a){var b=this.$form.find('[name="'+a+'"]');return b.length==0?null:b},validate:function(){if(!this.options.fields)return this;this._disableSubmitButtons(!0);for(var a in this.options.fields)this.validateField(a);return this._submit(),this},validateField:function(b){if(!this.options.fields[b].enabled)return;var c=this,d=this.getFieldElements(b),e=a(d[0]),f=this.options.fields[b].validators,g,h;if(d.length==1&&d.is(":disabled")){delete this.options.fields[b],delete this.dfds[b];return}for(g in f){this.dfds[b][g]&&this.dfds[b][g].reject();if(this.results[b][g]==this.STATUS_VALID||this.results[b][g]==this.STATUS_INVALID)continue;this.results[b][g]=this.STATUS_VALIDATING,h=a.fn.bootstrapValidator.validators[g].validate(this,e,f[g]),"object"==typeof h?(this.updateStatus(e,this.STATUS_VALIDATING,g),this.dfds[b][g]=h,h.done(function(a,d){delete c.dfds[b][d],c.updateStatus(e,a?c.STATUS_VALID:c.STATUS_INVALID,d),a&&"disabled"==c.options.live&&c._submit()})):"boolean"==typeof h&&this.updateStatus(e,h?this.STATUS_VALID:this.STATUS_INVALID,g)}},isValid:function(){var a,b;for(a in this.results){if(!this.options.fields[a].enabled)continue;for(b in this.results[a]){if(this.results[a][b]==this.STATUS_NOT_VALIDATED||this.results[a][b]==this.STATUS_VALIDATING)return!1;if(this.results[a][b]==this.STATUS_INVALID)return this.invalidField=a,!1}}return!0},updateStatus:function(b,c,d){var e="string"==typeof b?this.getFieldElements(b):b,f=this,b=e.attr("name"),g=e.closest(".form-group"),h=e.data("bootstrapValidator.messageContainer"),i=h.find(".help-block[data-bs-validator]");if(d)this.results[b][d]=c;else for(var j in this.options.fields[b].validators)this.results[b][j]=c;switch(c){case this.STATUS_VALIDATING:this._disableSubmitButtons(!0),g.removeClass("has-success").removeClass("has-error"),d?i.filter('.help-block[data-bs-validator="'+d+'"]').hide():i.hide(),h.find(".form-control-feedback").removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).addClass(this.options.feedbackIcons.validating).show();break;case this.STATUS_INVALID:this._disableSubmitButtons(!0),g.removeClass("has-success").addClass("has-error"),d?i.filter('[data-bs-validator="'+d+'"]').show():i.show(),h.find(".form-control-feedback").removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.invalid).show();break;case this.STATUS_VALID:d?i.filter('[data-bs-validator="'+d+'"]').hide():i.hide(),i.filter(function(){var c=a(this).css("display"),d=a(this).attr("data-bs-validator");return"block"==c||f.results[b][d]!=f.STATUS_VALID}).length==0&&(this._disableSubmitButtons(!1),g.removeClass("has-error").addClass("has-success"),h.find(".form-control-feedback").removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).addClass(this.options.feedbackIcons.valid).show());break;case this.STATUS_NOT_VALIDATED:default:this._disableSubmitButtons(!1),g.removeClass("has-success").removeClass("has-error"),d?i.filter('.help-block[data-bs-validator="'+d+'"]').hide():i.hide(),h.find(".form-control-feedback").removeClass(this.options.feedbackIcons.valid).removeClass(this.options.feedbackIcons.invalid).removeClass(this.options.feedbackIcons.validating).hide()}return this},resetForm:function(a){var b,c,d;for(b in this.options.fields)this.dfds[b]={},this.results[b]={},c=this.getFieldElements(b),this.updateStatus(c,this.STATUS_NOT_VALIDATED,null),a&&(d=c.attr("type"),"radio"==d||"checkbox"==d?c.removeAttr("checked").removeAttr("selected"):c.val(""));return this.invalidField=null,this.$submitButton=null,this._disableSubmitButtons(!1),this},enableFieldValidators:function(a,b){return this.options.fields[a].enabled=b,this.updateStatus(a,this.STATUS_NOT_VALIDATED,null),this}},a.fn.bootstrapValidator=function(c){return this.each(function(){var d=a(this),e=d.data("bootstrapValidator");e||d.data("bootstrapValidator",e=new b(this,c)),"string"==typeof c&&e[c]()})},a.fn.bootstrapValidator.validators={},a.fn.bootstrapValidator.Constructor=b}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.between={validate:function(a,b,c){var d=b.val();return d==""?!0:(d=parseFloat(d),c.inclusive===!0?d>c.min&&d<c.max:d>=c.min&&d<=c.max)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.callback={validate:function(b,c,d){var e=c.val();if(d.callback&&"function"==typeof d.callback){var f=new a.Deferred;return f.resolve(d.callback.call(this,e,b),"callback"),f}return!0}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.choice={validate:function(a,b,c){var d=a.getFieldElements(b.attr("name")).filter(":checked").length;return c.min&&d<c.min||c.max&&d>c.max?!1:!0}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.creditCard={validate:function(a,b,c){var d=b.val();if(d=="")return!0;if(/[^0-9-\s]+/.test(d))return!1;d=d.replace(/\D/g,"");var e=0,f=0,g=!1,h=d.length;for(var i=h-1;i>=0;i--)f=parseInt(d.charAt(i),10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10==0}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.date={validate:function(a,b,c){var d=b.val();if(d=="")return!0;c.format=c.format||"MM/DD/YYYY";var e=c.format.indexOf("/")!=-1?"/":c.format.indexOf("-")!=-1?"-":null;if(e==null)return!1;var f,g,h,i=null,j=null,k;switch(!0){case e=="/"&&(k=d.match(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/i))&&c.format=="YYYY/DD/MM":case e=="-"&&(k=d.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/i))&&c.format=="YYYY-DD-MM":h=k[1],g=k[2],f=k[3];break;case e=="/"&&(k=d.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/i))&&c.format=="DD/MM/YYYY":case e=="-"&&(k=d.match(/^(\d{1,2})-(\d{1,2})-(\d{4})$/i))&&c.format=="DD-MM-YYYY":g=k[1],f=k[2],h=k[3];break;case e=="/"&&(k=d.match(/^(\d{4})\/(\d{1,2})\/(\d{1,2})$/i))&&c.format=="YYYY/MM/DD":case e=="-"&&(k=d.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/i))&&c.format=="YYYY-MM-DD":h=k[1],f=k[2],g=k[3];break;case e=="/"&&(k=d.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/i))&&c.format=="MM/DD/YYYY":case e=="-"&&(k=d.match(/^(\d{1,2})-(\d{1,2})-(\d{4})$/i))&&c.format=="MM-DD-YYYY":f=k[1],g=k[2],h=k[3];break;case e=="/"&&(k=d.match(/^(\d{4})\/(\d{1,2})\/(\d{1,2})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="YYYY/DD/MM h:m A":case e=="-"&&(k=d.match(/^(\d{4})-(\d{1,2})-(\d{1,2})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="YYYY-DD-MM h:m A":h=k[1],g=k[2],f=k[3],j=k[4],i=k[5];break;case e=="/"&&(k=d.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="DD/MM/YYYY h:m A":case e=="-"&&(k=d.match(/^(\d{1,2})-(\d{1,2})-(\d{4})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="DD-MM-YYYY h:m A":g=k[1],f=k[2],h=k[3],j=k[4],i=k[5];break;case e=="/"&&(k=d.match(/^(\d{4})\/(\d{1,2})\/(\d{1,2})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="YYYY/MM/DD h:m A":case e=="-"&&(k=d.match(/^(\d{4})-(\d{1,2})-(\d{1,2})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="YYYY-MM-DD h:m A":h=k[1],f=k[2],g=k[3],j=k[4],i=k[5];break;case e=="/"&&(k=d.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="MM/DD/YYYY h:m A":case e=="-"&&(k=d.match(/^(\d{1,2})-(\d{1,2})-(\d{4})\s+(\d{1,2}):(\d{1,2})\s+(AM|PM)$/i))&&c.format=="MM-DD-YYYY h:m A":f=k[1],g=k[2],h=k[3],j=k[4],i=k[5];break;default:return!1}if(j&&i){j=parseInt(j,10),i=parseInt(i,10);if(j<1||j>12||i<0||i>59)return!1}g=parseInt(g,10),f=parseInt(f,10),h=parseInt(h,10);if(h<1e3||h>9999||f==0||f>12)return!1;var l=[31,28,31,30,31,30,31,31,30,31,30,31];if(h%400==0||h%100!=0&&h%4==0)l[1]=29;return g>0&&g<=l[f-1]}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.different={validate:function(a,b,c){var d=b.val();if(d=="")return!0;var e=a.getFieldElements(c.field);return e==null?!0:d!=e.val()?(a.updateStatus(e,a.STATUS_VALID,"different"),!0):!1}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.digits={validate:function(a,b,c){var d=b.val();return d==""?!0:/^\d+$/.test(d)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.emailAddress={validate:function(a,b,c){var d=b.val();if(d=="")return!0;var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(d)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.greaterThan={validate:function(a,b,c){var d=b.val();return d==""?!0:(d=parseFloat(d),c.inclusive===!0?d>c.value:d>=c.value)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.hexColor={validate:function(a,b,c){var d=b.val();return d==""?!0:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(d)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.identical={validate:function(a,b,c){var d=b.val();if(d=="")return!0;var e=a.getFieldElements(c.field);return e==null?!0:d==e.val()?(a.updateStatus(e,a.STATUS_VALID,"identical"),!0):!1}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.lessThan={validate:function(a,b,c){var d=b.val();return d==""?!0:(d=parseFloat(d),c.inclusive===!0?d<c.value:d<=c.value)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.notEmpty={validate:function(b,c,d){var e=c.attr("type");return"radio"==e||"checkbox"==e?b.getFieldElements(c.attr("name")).filter(":checked").length>0:a.trim(c.val())!=""}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.regexp={validate:function(a,b,c){var d=b.val();return d==""?!0:c.regexp.test(d)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.remote={validate:function(b,c,d){var e=c.val();if(e=="")return!0;var f=c.attr("name"),g=d.data;g==null&&(g={}),"function"==typeof g&&(g=g.call(this,b)),g[f]=e;var h=new a.Deferred,i=a.ajax({type:"POST",url:d.url,dataType:"json",data:g});return i.then(function(a){h.resolve(a.valid===!0||a.valid==="true","remote")}),h.fail(function(){i.abort()}),h}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.stringLength={validate:function(b,c,d){var e=c.val();if(e=="")return!0;var f=a.trim(e).length;return d.min&&f<d.min||d.max&&f>d.max?!1:!0}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.uri={validate:function(a,b,c){var d=b.val();if(d=="")return!0;var e=RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return e.test(d)}}}(window.jQuery),function(a){a.fn.bootstrapValidator.validators.zipCode={validate:function(a,b,c){var d=b.val();if(d==""||!c.country)return!0;switch(c.country.toUpperCase()){case"DK":return/^(DK(-|\s)?)?\d{4}$/i.test(d);case"SE":return/^(S-)?\d{3}\s?\d{2}$/i.test(d);case"US":default:return/^\d{5}([\-]\d{4})?$/.test(d)}}}}(window.jQuery),function(a,b){typeof exports=="object"?module.exports=b():typeof define=="function"&&define.amd?define(b):a.Spinner=b()}(this,function(){function d(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function e(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function g(a,d,e,g){var h=["opacity",d,~~(a*100),e,g].join("-"),i=.01+e/g*100,j=Math.max(1-(1-a)/d*(100-i),a),k=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=k&&"-"+k+"-"||"";return b[h]||(f.insertRule("@"+l+"keyframes "+h+"{"+"0%{opacity:"+j+"}"+i+"%{opacity:"+a+"}"+(i+.01)+"%{opacity:1}"+(i+d)%100+"%{opacity:"+a+"}"+"100%{opacity:"+j+"}"+"}",f.cssRules.length),b[h]=1),h}function h(b,c){var d=b.style,e,f;if(d[c]!==undefined)return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(f=0;f<a.length;f++){e=a[f]+c;if(d[e]!==undefined)return e}}function i(a,b){for(var c in b)a.style[h(a,c)||c]=b[c];return a}function j(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]===undefined&&(a[d]=c[d])}return a}function k(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a=a.offsetParent)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function m(a){if(typeof this=="undefined")return new m(a);this.opts=j(a||{},m.defaults,l)}function n(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(b,c){function g(){return i(a("group",{coordsize:f+" "+f,coordorigin:-d+" "+ -d}),{width:f,height:f})}function l(b,f,h){e(j,e(i(g(),{rotation:360/c.lines*b+"deg",left:~~f}),e(i(a("roundrect",{arcsize:c.corners}),{width:d,height:c.width,left:c.radius,top:-c.width>>1,filter:h}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var d=c.length+c.width,f=2*d,h=-(c.width+c.length)*2+"px",j=i(g(),{position:"absolute",top:h,left:h}),k;if(c.shadow)for(k=1;k<=c.lines;k++)l(k,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(k=1;k<=c.lines;k++)l(k);return e(b,j)},m.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}"use strict";var a=["webkit","Moz","ms","O"],b={},c,f=function(){var a=d("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),l={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};m.defaults={},j(m.prototype,{spin:function(a){this.stop();var b=this,e=b.opts,f=b.el=i(d(0,{className:e.className}),{position:e.position,width:0,zIndex:e.zIndex}),g=e.radius+e.length+e.width,h,j;a&&(a.insertBefore(f,a.firstChild||null),j=k(a),h=k(f),i(f,{left:(e.left=="auto"?j.x-h.x+(a.offsetWidth>>1):parseInt(e.left,10)+g)+"px",top:(e.top=="auto"?j.y-h.y+(a.offsetHeight>>1):parseInt(e.top,10)+g)+"px"})),f.setAttribute("role","progressbar"),b.lines(f,b.opts);if(!c){var l=0,m=(e.lines-1)*(1-e.direction)/2,n,o=e.fps,p=o/e.speed,q=(1-e.opacity)/(p*e.trail/100),r=p/e.lines;(function s(){l++;for(var a=0;a<e.lines;a++)n=Math.max(1-(l+(e.lines-a)*r)%p*q,e.opacity),b.opacity(f,a*e.direction+m,n,e);b.timeout=b.el&&setTimeout(s,~~(1e3/o))})()}return b},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=undefined),this},lines:function(a,b){function k(a,c){return i(d(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*f+b.rotate)+"deg) translate("+b.radius+"px"+",0)",borderRadius:(b.corners*b.width>>1)+"px"})}var f=0,h=(b.lines-1)*(1-b.direction)/2,j;for(;f<b.lines;f++)j=i(d(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:c&&g(b.opacity,b.trail,h+f*b.direction,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(j,i(k("#000","0 0 4px #000"),{top:"2px"})),e(a,e(j,k(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=i(d("group"),{behavior:"url(#default#VML)"});return!h(o,"transform")&&o.adj?n():c=h(o,"animation"),m}),function(a,b){typeof exports=="object"?module.exports=b():typeof define=="function"&&define.amd?define(["./spin"],b):a.Ladda=b(a.Spinner)}(this,function(a){function c(a){if(typeof a=="undefined"){console.warn("Ladda button target must be defined.");return}a.querySelector(".ladda-label")||(a.innerHTML='<span class="ladda-label">'+a.innerHTML+"</span>");var c=f(a),d=document.createElement("span");d.className="ladda-spinner",a.appendChild(d);var e,g={start:function(){return a.setAttribute("disabled",""),a.setAttribute("data-loading",""),clearTimeout(e),c.spin(d),this.setProgress(0),this},startAfter:function(a){return clearTimeout(e),e=setTimeout(function(){g.start()},a),this},stop:function(){return a.removeAttribute("disabled"),a.removeAttribute("data-loading"),clearTimeout(e),e=setTimeout(function(){c.stop()},1e3),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(b){b=Math.max(Math.min(b,1),0);var c=a.querySelector(".ladda-progress");b===0&&c&&c.parentNode?c.parentNode.removeChild(c):(c||(c=document.createElement("div"),c.className="ladda-progress",a.appendChild(c)),c.style.width=(b||0)*a.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),a.setAttribute("disabled",""),this},isLoading:function(){return a.hasAttribute("data-loading")},getTarget:function(){return a}};return b.push(g),g}function d(a,b){b=b||{};var d=[];typeof a=="string"?d=g(document.querySelectorAll(a)):typeof a=="object"&&typeof a.nodeName=="string"&&(d=[a]);for(var e=0,f=d.length;e<f;e++)(function(){var a=d[e];if(typeof a.addEventListener=="function"){var f=c(a),g=-1;a.addEventListener("click",function(){f.startAfter(1),typeof b.timeout=="number"&&(clearTimeout(g),g=setTimeout(f.stop,b.timeout)),typeof b.callback=="function"&&b.callback.apply(null,[f])},!1)}})()}function e(){for(var a=0,c=b.length;a<c;a++)b[a].stop()}function f(b){var c=b.offsetHeight,d;c>32&&(c*=.8),b.hasAttribute("data-spinner-size")&&(c=parseInt(b.getAttribute("data-spinner-size"),10)),b.hasAttribute("data-spinner-color")&&(d=b.getAttribute("data-spinner-color"));var e=12,f=c*.2,g=f*.6,h=f<7?2:3;return new a({color:d||$(b).css("color")||"#fff",lines:e,radius:f,length:g,width:h,zIndex:"auto",top:"auto",left:"auto",className:""})}function g(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c]);return b}"use strict";var b=[];return{bind:d,create:c,stopAll:e}}),function(a){a.fn.ladda=function(b){return this.each(function(){var c=a(this),d=c.data("ladda");d||c.data("ladda",d=Ladda.create(this)),typeof b=="string"&&d[b]()})}}(jQuery),function(a){"use strict",a.fn.endlessPaginate=function(b){var c={containerSelector:".endless_container",loadingSelector:".endless_loading",moreSelector:"a.endless_more",pageSelector:".endless_page_template",pagesSelector:"a.endless_page_link",onClick:function(){},onCompleted:function(){},paginateOnScroll:!1,paginateOnScrollMargin:1,paginateOnScrollChunkSize:0},d=a.extend(c,b),e=function(a){return{key:a.attr("rel").split(" ")[0],url:a.attr("href")}};return this.each(function(){var b=a(this),c=1;b.on("click",d.moreSelector,function(){var b=a(this),f=b.get(0),g=b.closest(d.containerSelector),h=g.find(d.loadingSelector);if(h.is(":visible"))return!1;b.hide(),h.show();var i=e(b);if(d.onClick.apply(f,[i])!==!1){var j="querystring_key="+i.key;a.get(i.url,j,function(b){var e=a(b);e.liveSetup(),g.before(e),g.remove(),c+=1,d.onCompleted.apply(f,[i,b.trim()])})}return!1});if(d.paginateOnScroll){var f=a(window),g=a(document);f.scroll(function(){if(g.height()-f.height()-f.scrollTop()<=d.paginateOnScrollMargin){var a=d.paginateOnScrollChunkSize;(!a||c%a)&&b.find(d.moreSelector).click()}})}b.on("click",d.pagesSelector,function(){var b=a(this),c=b.get(0),f=e(b);if(d.onClick.apply(c,[f])!==!1){var g=b.closest(d.pageSelector),h="querystring_key="+f.key;g.load(f.url,h,function(a){var b=g.children();b.liveSetup(),d.onCompleted.apply(c,[f,a.trim()])})}return!1})})},a.endlessPaginate=function(b){return a("body").endlessPaginate(b)}}(jQuery)}()